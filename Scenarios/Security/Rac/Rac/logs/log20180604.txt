2018-06-04 08:33:59.048 -03:00 [INFO] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using '"C:\Users\josue.agnese\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2018-06-04 08:34:05.345 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/  
2018-06-04 08:34:05.457 -03:00 [INFO] Tnf.Settings.Internal.SettingDefinitionManager Settings definitions loaded: [Tnf.Localization.DefaultLanguageName,Tnf.Timing.TimeZone,Tnf.Rac.UserManagement.IsEmailConfirmationRequiredForLogin,Tnf.Rac.UserManagement.TwoFactorLogin.IsEnabled,Tnf.Rac.UserManagement.TwoFactorLogin.IsRememberBrowserEnabled,Tnf.Rac.UserManagement.TwoFactorLogin.IsEmailProviderEnabled,Tnf.Rac.UserManagement.TwoFactorLogin.IsSmsProviderEnabled,Tnf.Rac.UserManagement.UserLockOut.IsEnabled,Tnf.Rac.UserManagement.UserLockOut.MaxFailedAccessAttemptsBeforeLockout,Tnf.Rac.UserManagement.UserLockOut.DefaultAccountLockoutSeconds,Tnf.Rac.UserManagement.PasswordComplexity.RequireDigit,Tnf.Rac.UserManagement.PasswordComplexity.RequireLowercase,Tnf.Rac.UserManagement.PasswordComplexity.RequireNonAlphanumeric,Tnf.Rac.UserManagement.PasswordComplexity.RequireUppercase,Tnf.Rac.UserManagement.PasswordComplexity.RequiredLength,TnfExternalAuthentication.IsEnabled,TnfExternalAuthentication.SourceName,TnfExternalAuthentication.GetValidateCredentialAddress,TnfExternalAuthentication.GetUserInfoAddress]
2018-06-04 08:34:06.725 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/index.html"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\index.html"'
2018-06-04 08:34:06.871 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/inline.bundle.js  
2018-06-04 08:34:06.871 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/vendor.bundle.js  
2018-06-04 08:34:06.873 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/polyfills.bundle.js  
2018-06-04 08:34:06.874 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/scripts.bundle.js  
2018-06-04 08:34:06.875 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/vendor.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\vendor.bundle.js"'
2018-06-04 08:34:06.878 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 1524.7805ms 200 text/html
2018-06-04 08:34:06.882 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/scripts.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\scripts.bundle.js"'
2018-06-04 08:34:06.882 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/inline.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\inline.bundle.js"'
2018-06-04 08:34:06.882 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/polyfills.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\polyfills.bundle.js"'
2018-06-04 08:34:06.884 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/styles.bundle.css  
2018-06-04 08:34:06.885 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/styles.bundle.css"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\styles.bundle.css"'
2018-06-04 08:34:06.927 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 55.54ms 200 application/javascript
2018-06-04 08:34:06.942 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/main.bundle.js  
2018-06-04 08:34:06.943 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/main.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\main.bundle.js"'
2018-06-04 08:34:06.951 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 67.2077ms 200 text/css
2018-06-04 08:34:06.972 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 98.6604ms 200 application/javascript
2018-06-04 08:34:06.978 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 35.0621ms 200 application/javascript
2018-06-04 08:34:06.985 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/NunitoSans-Regular.fb98ed1700e8dfaf0764.ttf  
2018-06-04 08:34:06.988 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 114.0708ms 200 application/javascript
2018-06-04 08:34:07.000 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:07.008 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/NunitoSans-Regular.fb98ed1700e8dfaf0764.ttf"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\NunitoSans-Regular.fb98ed1700e8dfaf0764.ttf"'
2018-06-04 08:34:07.022 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 37.1245ms 200 application/x-font-ttf
2018-06-04 08:34:07.341 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 469.3554ms 200 application/javascript
2018-06-04 08:34:09.392 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:09.394 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/assets/images/totvs-avatar-default.svg  
2018-06-04 08:34:09.395 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/assets/images/totvs-avatar-default.svg"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\assets\images\totvs-avatar-default.svg"'
2018-06-04 08:34:09.401 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 7.1704ms 200 image/svg+xml
2018-06-04 08:34:09.429 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:09.754 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:09.963 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:09.966 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:10.006 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:10.091 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:10.092 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:10.108 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:10.111 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:10.134 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:10.137 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:10.435 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 1042.6398ms 200 application/json; charset=UTF-8
2018-06-04 08:34:10.436 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:10.437 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:10.438 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:10.445 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession  
2018-06-04 08:34:10.445 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2018-06-04 08:34:10.450 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:10.454 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:10.454 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:10.456 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:10.457 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:10.457 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:10.457 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:10.458 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:10.458 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:10.459 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 14.3236ms 200 text/html; charset=UTF-8
2018-06-04 08:34:10.462 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 26.5647ms 200 application/json; charset=UTF-8
2018-06-04 08:34:10.482 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=rac_oidc&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fauth-callback&response_type=code%20id_token%20token&scope=openid%20profile%20email%20authorization_api%20management_api%20offline_access&state=bad5cefde6c64c7398a364a7a4405863&nonce=5f9d870c684b40af872da755f7f9a055  
2018-06-04 08:34:10.494 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2018-06-04 08:34:10.543 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=rac_oidc&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fassets%2Fsilent-renew.html&response_type=id_token&scope=openid&state=c9539604bf29441286fad11c21382c1f&nonce=a5bcb560a1fe40aaabd2200ec361de65&prompt=none  
2018-06-04 08:34:10.544 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2018-06-04 08:34:10.573 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:10.578 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:10.731 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:10.733 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:10.736 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"AbsoluteRefreshTokenLifetime\", \"x\".\"AccessTokenLifetime\", \"x\".\"AccessTokenType\", \"x\".\"AllowAccessTokensViaBrowser\", \"x\".\"AllowOfflineAccess\", \"x\".\"AllowPlainTextPkce\", \"x\".\"AllowRememberConsent\", \"x\".\"AlwaysIncludeUserClaimsInIdToken\", \"x\".\"AlwaysSendClientClaims\", \"x\".\"AuthorizationCodeLifetime\", \"x\".\"BackChannelLogoutSessionRequired\", \"x\".\"BackChannelLogoutUri\", \"x\".\"ClientClaimsPrefix\", \"x\".\"ClientId\", \"x\".\"ClientName\", \"x\".\"ClientUri\", \"x\".\"ConsentLifetime\", \"x\".\"Description\", \"x\".\"EnableLocalLogin\", \"x\".\"Enabled\", \"x\".\"FrontChannelLogoutSessionRequired\", \"x\".\"FrontChannelLogoutUri\", \"x\".\"IdentityTokenLifetime\", \"x\".\"IncludeJwtId\", \"x\".\"LogoUri\", \"x\".\"PairWiseSubjectSalt\", \"x\".\"ProtocolType\", \"x\".\"RefreshTokenExpiration\", \"x\".\"RefreshTokenUsage\", \"x\".\"RequireClientSecret\", \"x\".\"RequireConsent\", \"x\".\"RequirePkce\", \"x\".\"SlidingRefreshTokenLifetime\", \"x\".\"UpdateAccessTokenClaimsOnRefresh\"
FROM \"Clients\" AS \"x\"
WHERE \"x\".\"ClientId\" = @__clientId_0
ORDER BY \"x\".\"Id\"
LIMIT 1"
2018-06-04 08:34:10.737 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"AbsoluteRefreshTokenLifetime\", \"x\".\"AccessTokenLifetime\", \"x\".\"AccessTokenType\", \"x\".\"AllowAccessTokensViaBrowser\", \"x\".\"AllowOfflineAccess\", \"x\".\"AllowPlainTextPkce\", \"x\".\"AllowRememberConsent\", \"x\".\"AlwaysIncludeUserClaimsInIdToken\", \"x\".\"AlwaysSendClientClaims\", \"x\".\"AuthorizationCodeLifetime\", \"x\".\"BackChannelLogoutSessionRequired\", \"x\".\"BackChannelLogoutUri\", \"x\".\"ClientClaimsPrefix\", \"x\".\"ClientId\", \"x\".\"ClientName\", \"x\".\"ClientUri\", \"x\".\"ConsentLifetime\", \"x\".\"Description\", \"x\".\"EnableLocalLogin\", \"x\".\"Enabled\", \"x\".\"FrontChannelLogoutSessionRequired\", \"x\".\"FrontChannelLogoutUri\", \"x\".\"IdentityTokenLifetime\", \"x\".\"IncludeJwtId\", \"x\".\"LogoUri\", \"x\".\"PairWiseSubjectSalt\", \"x\".\"ProtocolType\", \"x\".\"RefreshTokenExpiration\", \"x\".\"RefreshTokenUsage\", \"x\".\"RequireClientSecret\", \"x\".\"RequireConsent\", \"x\".\"RequirePkce\", \"x\".\"SlidingRefreshTokenLifetime\", \"x\".\"UpdateAccessTokenClaimsOnRefresh\"
FROM \"Clients\" AS \"x\"
WHERE \"x\".\"ClientId\" = @__clientId_0
ORDER BY \"x\".\"Id\"
LIMIT 1"
2018-06-04 08:34:10.803 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedGrantTypes\".\"Id\", \"x.AllowedGrantTypes\".\"ClientId\", \"x.AllowedGrantTypes\".\"GrantType\"
FROM \"ClientGrantTypes\" AS \"x.AllowedGrantTypes\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"Clients\" AS \"x0\"
    WHERE \"x0\".\"ClientId\" = @__clientId_0
    ORDER BY \"x0\".\"Id\"
    LIMIT 1
) AS \"t\" ON \"x.AllowedGrantTypes\".\"ClientId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:10.803 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedGrantTypes\".\"Id\", \"x.AllowedGrantTypes\".\"ClientId\", \"x.AllowedGrantTypes\".\"GrantType\"
FROM \"ClientGrantTypes\" AS \"x.AllowedGrantTypes\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"Clients\" AS \"x0\"
    WHERE \"x0\".\"ClientId\" = @__clientId_0
    ORDER BY \"x0\".\"Id\"
    LIMIT 1
) AS \"t\" ON \"x.AllowedGrantTypes\".\"ClientId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:10.817 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.RedirectUris\".\"Id\", \"x.RedirectUris\".\"ClientId\", \"x.RedirectUris\".\"RedirectUri\"
FROM \"ClientRedirectUris\" AS \"x.RedirectUris\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"Clients\" AS \"x1\"
    WHERE \"x1\".\"ClientId\" = @__clientId_0
    ORDER BY \"x1\".\"Id\"
    LIMIT 1
) AS \"t0\" ON \"x.RedirectUris\".\"ClientId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\""
2018-06-04 08:34:10.817 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.RedirectUris\".\"Id\", \"x.RedirectUris\".\"ClientId\", \"x.RedirectUris\".\"RedirectUri\"
FROM \"ClientRedirectUris\" AS \"x.RedirectUris\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"Clients\" AS \"x1\"
    WHERE \"x1\".\"ClientId\" = @__clientId_0
    ORDER BY \"x1\".\"Id\"
    LIMIT 1
) AS \"t0\" ON \"x.RedirectUris\".\"ClientId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\""
2018-06-04 08:34:10.826 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.PostLogoutRedirectUris\".\"Id\", \"x.PostLogoutRedirectUris\".\"ClientId\", \"x.PostLogoutRedirectUris\".\"PostLogoutRedirectUri\"
FROM \"ClientPostLogoutRedirectUris\" AS \"x.PostLogoutRedirectUris\"
INNER JOIN (
    SELECT \"x2\".\"Id\"
    FROM \"Clients\" AS \"x2\"
    WHERE \"x2\".\"ClientId\" = @__clientId_0
    ORDER BY \"x2\".\"Id\"
    LIMIT 1
) AS \"t1\" ON \"x.PostLogoutRedirectUris\".\"ClientId\" = \"t1\".\"Id\"
ORDER BY \"t1\".\"Id\""
2018-06-04 08:34:10.826 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.PostLogoutRedirectUris\".\"Id\", \"x.PostLogoutRedirectUris\".\"ClientId\", \"x.PostLogoutRedirectUris\".\"PostLogoutRedirectUri\"
FROM \"ClientPostLogoutRedirectUris\" AS \"x.PostLogoutRedirectUris\"
INNER JOIN (
    SELECT \"x2\".\"Id\"
    FROM \"Clients\" AS \"x2\"
    WHERE \"x2\".\"ClientId\" = @__clientId_0
    ORDER BY \"x2\".\"Id\"
    LIMIT 1
) AS \"t1\" ON \"x.PostLogoutRedirectUris\".\"ClientId\" = \"t1\".\"Id\"
ORDER BY \"t1\".\"Id\""
2018-06-04 08:34:10.837 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedScopes\".\"Id\", \"x.AllowedScopes\".\"ClientId\", \"x.AllowedScopes\".\"Scope\"
FROM \"ClientScopes\" AS \"x.AllowedScopes\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"Clients\" AS \"x3\"
    WHERE \"x3\".\"ClientId\" = @__clientId_0
    ORDER BY \"x3\".\"Id\"
    LIMIT 1
) AS \"t2\" ON \"x.AllowedScopes\".\"ClientId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id\""
2018-06-04 08:34:10.837 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedScopes\".\"Id\", \"x.AllowedScopes\".\"ClientId\", \"x.AllowedScopes\".\"Scope\"
FROM \"ClientScopes\" AS \"x.AllowedScopes\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"Clients\" AS \"x3\"
    WHERE \"x3\".\"ClientId\" = @__clientId_0
    ORDER BY \"x3\".\"Id\"
    LIMIT 1
) AS \"t2\" ON \"x.AllowedScopes\".\"ClientId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id\""
2018-06-04 08:34:10.845 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.ClientSecrets\".\"Id\", \"x.ClientSecrets\".\"ClientId\", \"x.ClientSecrets\".\"Description\", \"x.ClientSecrets\".\"Expiration\", \"x.ClientSecrets\".\"Type\", \"x.ClientSecrets\".\"Value\"
FROM \"ClientSecrets\" AS \"x.ClientSecrets\"
INNER JOIN (
    SELECT \"x4\".\"Id\"
    FROM \"Clients\" AS \"x4\"
    WHERE \"x4\".\"ClientId\" = @__clientId_0
    ORDER BY \"x4\".\"Id\"
    LIMIT 1
) AS \"t3\" ON \"x.ClientSecrets\".\"ClientId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:10.845 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.ClientSecrets\".\"Id\", \"x.ClientSecrets\".\"ClientId\", \"x.ClientSecrets\".\"Description\", \"x.ClientSecrets\".\"Expiration\", \"x.ClientSecrets\".\"Type\", \"x.ClientSecrets\".\"Value\"
FROM \"ClientSecrets\" AS \"x.ClientSecrets\"
INNER JOIN (
    SELECT \"x4\".\"Id\"
    FROM \"Clients\" AS \"x4\"
    WHERE \"x4\".\"ClientId\" = @__clientId_0
    ORDER BY \"x4\".\"Id\"
    LIMIT 1
) AS \"t3\" ON \"x.ClientSecrets\".\"ClientId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:10.857 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Claims\".\"Id\", \"x.Claims\".\"ClientId\", \"x.Claims\".\"Type\", \"x.Claims\".\"Value\"
FROM \"ClientClaims\" AS \"x.Claims\"
INNER JOIN (
    SELECT \"x5\".\"Id\"
    FROM \"Clients\" AS \"x5\"
    WHERE \"x5\".\"ClientId\" = @__clientId_0
    ORDER BY \"x5\".\"Id\"
    LIMIT 1
) AS \"t4\" ON \"x.Claims\".\"ClientId\" = \"t4\".\"Id\"
ORDER BY \"t4\".\"Id\""
2018-06-04 08:34:10.857 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Claims\".\"Id\", \"x.Claims\".\"ClientId\", \"x.Claims\".\"Type\", \"x.Claims\".\"Value\"
FROM \"ClientClaims\" AS \"x.Claims\"
INNER JOIN (
    SELECT \"x5\".\"Id\"
    FROM \"Clients\" AS \"x5\"
    WHERE \"x5\".\"ClientId\" = @__clientId_0
    ORDER BY \"x5\".\"Id\"
    LIMIT 1
) AS \"t4\" ON \"x.Claims\".\"ClientId\" = \"t4\".\"Id\"
ORDER BY \"t4\".\"Id\""
2018-06-04 08:34:10.860 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.IdentityProviderRestrictions\".\"Id\", \"x.IdentityProviderRestrictions\".\"ClientId\", \"x.IdentityProviderRestrictions\".\"Provider\"
FROM \"ClientIdPRestrictions\" AS \"x.IdentityProviderRestrictions\"
INNER JOIN (
    SELECT \"x6\".\"Id\"
    FROM \"Clients\" AS \"x6\"
    WHERE \"x6\".\"ClientId\" = @__clientId_0
    ORDER BY \"x6\".\"Id\"
    LIMIT 1
) AS \"t5\" ON \"x.IdentityProviderRestrictions\".\"ClientId\" = \"t5\".\"Id\"
ORDER BY \"t5\".\"Id\""
2018-06-04 08:34:10.860 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.IdentityProviderRestrictions\".\"Id\", \"x.IdentityProviderRestrictions\".\"ClientId\", \"x.IdentityProviderRestrictions\".\"Provider\"
FROM \"ClientIdPRestrictions\" AS \"x.IdentityProviderRestrictions\"
INNER JOIN (
    SELECT \"x6\".\"Id\"
    FROM \"Clients\" AS \"x6\"
    WHERE \"x6\".\"ClientId\" = @__clientId_0
    ORDER BY \"x6\".\"Id\"
    LIMIT 1
) AS \"t5\" ON \"x.IdentityProviderRestrictions\".\"ClientId\" = \"t5\".\"Id\"
ORDER BY \"t5\".\"Id\""
2018-06-04 08:34:10.862 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedCorsOrigins\".\"Id\", \"x.AllowedCorsOrigins\".\"ClientId\", \"x.AllowedCorsOrigins\".\"Origin\"
FROM \"ClientCorsOrigins\" AS \"x.AllowedCorsOrigins\"
INNER JOIN (
    SELECT \"x7\".\"Id\"
    FROM \"Clients\" AS \"x7\"
    WHERE \"x7\".\"ClientId\" = @__clientId_0
    ORDER BY \"x7\".\"Id\"
    LIMIT 1
) AS \"t6\" ON \"x.AllowedCorsOrigins\".\"ClientId\" = \"t6\".\"Id\"
ORDER BY \"t6\".\"Id\""
2018-06-04 08:34:10.862 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedCorsOrigins\".\"Id\", \"x.AllowedCorsOrigins\".\"ClientId\", \"x.AllowedCorsOrigins\".\"Origin\"
FROM \"ClientCorsOrigins\" AS \"x.AllowedCorsOrigins\"
INNER JOIN (
    SELECT \"x7\".\"Id\"
    FROM \"Clients\" AS \"x7\"
    WHERE \"x7\".\"ClientId\" = @__clientId_0
    ORDER BY \"x7\".\"Id\"
    LIMIT 1
) AS \"t6\" ON \"x.AllowedCorsOrigins\".\"ClientId\" = \"t6\".\"Id\"
ORDER BY \"t6\".\"Id\""
2018-06-04 08:34:10.872 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Properties\".\"Id\", \"x.Properties\".\"ClientId\", \"x.Properties\".\"Key\", \"x.Properties\".\"Value\"
FROM \"ClientProperties\" AS \"x.Properties\"
INNER JOIN (
    SELECT \"x8\".\"Id\"
    FROM \"Clients\" AS \"x8\"
    WHERE \"x8\".\"ClientId\" = @__clientId_0
    ORDER BY \"x8\".\"Id\"
    LIMIT 1
) AS \"t7\" ON \"x.Properties\".\"ClientId\" = \"t7\".\"Id\"
ORDER BY \"t7\".\"Id\""
2018-06-04 08:34:10.873 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Properties\".\"Id\", \"x.Properties\".\"ClientId\", \"x.Properties\".\"Key\", \"x.Properties\".\"Value\"
FROM \"ClientProperties\" AS \"x.Properties\"
INNER JOIN (
    SELECT \"x8\".\"Id\"
    FROM \"Clients\" AS \"x8\"
    WHERE \"x8\".\"ClientId\" = @__clientId_0
    ORDER BY \"x8\".\"Id\"
    LIMIT 1
) AS \"t7\" ON \"x.Properties\".\"ClientId\" = \"t7\".\"Id\"
ORDER BY \"t7\".\"Id\""
2018-06-04 08:34:11.101 -03:00 [EROR] IdentityServer4.Validation.AuthorizeRequestValidator Invalid grant type for client: "implicit"
"{
  \"ClientId\": \"rac_oidc\",
  \"ClientName\": \"OIDC Client for RAC\",
  \"RedirectUri\": \"http://localhost:5000/assets/silent-renew.html\",
  \"AllowedRedirectUris\": [
    \"http://localhost/rac/auth-callback\",
    \"http://localhost:5000/auth-callback\",
    \"http://localhost/rac/assets/silent-renew.html\",
    \"http://localhost:5000/assets/silent-renew.html\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"\",
  \"State\": \"c9539604bf29441286fad11c21382c1f\",
  \"Raw\": {
    \"client_id\": \"rac_oidc\",
    \"redirect_uri\": \"http://localhost:5000/assets/silent-renew.html\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"c9539604bf29441286fad11c21382c1f\",
    \"nonce\": \"a5bcb560a1fe40aaabd2200ec361de65\",
    \"prompt\": \"none\"
  }
}"
2018-06-04 08:34:11.105 -03:00 [EROR] IdentityServer4.Endpoints.AuthorizeEndpoint Request validation failed
2018-06-04 08:34:11.105 -03:00 [INFO] IdentityServer4.Endpoints.AuthorizeEndpoint "{
  \"ClientId\": \"rac_oidc\",
  \"ClientName\": \"OIDC Client for RAC\",
  \"RedirectUri\": \"http://localhost:5000/assets/silent-renew.html\",
  \"AllowedRedirectUris\": [
    \"http://localhost/rac/auth-callback\",
    \"http://localhost:5000/auth-callback\",
    \"http://localhost/rac/assets/silent-renew.html\",
    \"http://localhost:5000/assets/silent-renew.html\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"\",
  \"State\": \"c9539604bf29441286fad11c21382c1f\",
  \"Raw\": {
    \"client_id\": \"rac_oidc\",
    \"redirect_uri\": \"http://localhost:5000/assets/silent-renew.html\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"c9539604bf29441286fad11c21382c1f\",
    \"nonce\": \"a5bcb560a1fe40aaabd2200ec361de65\",
    \"prompt\": \"none\"
  }
}"
2018-06-04 08:34:11.128 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:11.135 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource\".\"Id\", \"identityResource\".\"Description\", \"identityResource\".\"DisplayName\", \"identityResource\".\"Emphasize\", \"identityResource\".\"Enabled\", \"identityResource\".\"Name\", \"identityResource\".\"Required\", \"identityResource\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"identityResource\"
WHERE \"identityResource\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
ORDER BY \"identityResource\".\"Id\""
2018-06-04 08:34:11.139 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource.UserClaims\".\"Id\", \"identityResource.UserClaims\".\"IdentityResourceId\", \"identityResource.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"identityResource.UserClaims\"
INNER JOIN (
    SELECT \"identityResource0\".\"Id\"
    FROM \"IdentityResources\" AS \"identityResource0\"
    WHERE \"identityResource0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
) AS \"t\" ON \"identityResource.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:11.168 -03:00 [INFO] IdentityServer4.Events.DefaultEventService {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "rac_oidc",
  "ClientName": "OIDC Client for RAC",
  "RedirectUri": "http://localhost:5000/assets/silent-renew.html",
  "Endpoint": "Authorize",
  "Scopes": "",
  "GrantType": "implicit",
  "Error": "unauthorized_client",
  "ActivityId": "0HLEA1SA08I3L:00000005",
  "TimeStamp": "2018-06-04T11:34:11Z",
  "ProcessId": 9896,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-06-04 08:34:11.203 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:11.205 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api\".\"Id\", \"api\".\"Description\", \"api\".\"DisplayName\", \"api\".\"Enabled\", \"api\".\"Name\"
FROM \"ApiResources\" AS \"api\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS \"x\"
    WHERE \"x\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api\".\"Id\" = \"x\".\"ApiResourceId\"))
ORDER BY \"api\".\"Id\""
2018-06-04 08:34:11.207 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 663.2609ms 302 
2018-06-04 08:34:11.208 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8JsPHXq4pSBEqnKUROzUoPrib4dAuZjB99fhy3GFQhI3i1oULoGCYoOk5YkCmQ2RixxTRcAKgoSs3DQoIEPl0JkrgSdxbIeptMU-sfTarstmJTuMfKRSuYDRJeexjORrAVlcfrpRZv2l-G0-gIqC2il5VvvU58PwCSJF3BTva3_83V7mgBj3v_rcw5CzJt8NK7t9IqZbcd3ZjgQFdht9e3PfSqm7syBC-FfRw97l8Z8jFOnHihP0CAlSW8RDQc-tnI2Zd-2iY07buD5-6jZIEvuNqevZmwtL6sV7rXBCbvZcI3GfXJ1N8UMxun8ABjC6ZA3tVvymvUAmAVVqw1_nryofyLvXe_kBOeHWE2dejdcvyB0yGfFxqQ4PzGrA3LanhuRyYLi_Nn7cPdYG1S9ErrlbmjwSisvCQ6ybwsBhnd86kAqDoWslBMpqufACz66wH44slk10U67ckZy6dcTLmrE  
2018-06-04 08:34:11.211 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Secrets\".\"Id\", \"api.Secrets\".\"ApiResourceId\", \"api.Secrets\".\"Description\", \"api.Secrets\".\"Expiration\", \"api.Secrets\".\"Type\", \"api.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"api.Secrets\"
INNER JOIN (
    SELECT \"api0\".\"Id\"
    FROM \"ApiResources\" AS \"api0\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x0\"
        WHERE \"x0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api0\".\"Id\" = \"x0\".\"ApiResourceId\"))
) AS \"t\" ON \"api.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:11.216 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes\".\"Id\", \"api.Scopes\".\"ApiResourceId\", \"api.Scopes\".\"Description\", \"api.Scopes\".\"DisplayName\", \"api.Scopes\".\"Emphasize\", \"api.Scopes\".\"Name\", \"api.Scopes\".\"Required\", \"api.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"api.Scopes\"
INNER JOIN (
    SELECT \"api1\".\"Id\"
    FROM \"ApiResources\" AS \"api1\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x1\"
        WHERE \"x1\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api1\".\"Id\" = \"x1\".\"ApiResourceId\"))
) AS \"t0\" ON \"api.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"api.Scopes\".\"Id\""
2018-06-04 08:34:11.221 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes.UserClaims\".\"Id\", \"api.Scopes.UserClaims\".\"ApiScopeId\", \"api.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"api.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"api.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"api.Scopes0\"
    INNER JOIN (
        SELECT \"api2\".\"Id\"
        FROM \"ApiResources\" AS \"api2\"
        WHERE EXISTS (
            SELECT 1
            FROM \"ApiScopes\" AS \"x2\"
            WHERE \"x2\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api2\".\"Id\" = \"x2\".\"ApiResourceId\"))
    ) AS \"t1\" ON \"api.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"api.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:11.223 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.UserClaims\".\"Id\", \"api.UserClaims\".\"ApiResourceId\", \"api.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"api.UserClaims\"
INNER JOIN (
    SELECT \"api3\".\"Id\"
    FROM \"ApiResources\" AS \"api3\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x3\"
        WHERE \"x3\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api3\".\"Id\" = \"x3\".\"ApiResourceId\"))
) AS \"t3\" ON \"api.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:11.233 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/index.html"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\index.html"'
2018-06-04 08:34:11.234 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 25.7487ms 200 text/html
2018-06-04 08:34:11.243 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/styles.bundle.css  
2018-06-04 08:34:11.243 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/inline.bundle.js  
2018-06-04 08:34:11.243 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/polyfills.bundle.js  
2018-06-04 08:34:11.243 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/scripts.bundle.js  
2018-06-04 08:34:11.245 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file "/polyfills.bundle.js" was not modified
2018-06-04 08:34:11.245 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file "/styles.bundle.css" was not modified
2018-06-04 08:34:11.245 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file "/inline.bundle.js" was not modified
2018-06-04 08:34:11.245 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file "/scripts.bundle.js" was not modified
2018-06-04 08:34:11.249 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 5.6799ms 304 application/javascript
2018-06-04 08:34:11.249 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 6.0558ms 304 application/javascript
2018-06-04 08:34:11.249 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/vendor.bundle.js  
2018-06-04 08:34:11.249 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 6.114ms 304 text/css
2018-06-04 08:34:11.250 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 6.1203ms 304 application/javascript
2018-06-04 08:34:11.251 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file "/vendor.bundle.js" was not modified
2018-06-04 08:34:11.251 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 2.0458ms 304 application/javascript
2018-06-04 08:34:11.253 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/main.bundle.js  
2018-06-04 08:34:11.255 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file "/main.bundle.js" was not modified
2018-06-04 08:34:11.256 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 2.2655ms 304 application/javascript
2018-06-04 08:34:11.267 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:11.269 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource\".\"Id\", \"identityResource\".\"Description\", \"identityResource\".\"DisplayName\", \"identityResource\".\"Emphasize\", \"identityResource\".\"Enabled\", \"identityResource\".\"Name\", \"identityResource\".\"Required\", \"identityResource\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"identityResource\"
WHERE \"identityResource\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
ORDER BY \"identityResource\".\"Id\""
2018-06-04 08:34:11.270 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource.UserClaims\".\"Id\", \"identityResource.UserClaims\".\"IdentityResourceId\", \"identityResource.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"identityResource.UserClaims\"
INNER JOIN (
    SELECT \"identityResource0\".\"Id\"
    FROM \"IdentityResources\" AS \"identityResource0\"
    WHERE \"identityResource0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
) AS \"t\" ON \"identityResource.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:11.274 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:11.277 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api\".\"Id\", \"api\".\"Description\", \"api\".\"DisplayName\", \"api\".\"Enabled\", \"api\".\"Name\"
FROM \"ApiResources\" AS \"api\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS \"x\"
    WHERE \"x\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api\".\"Id\" = \"x\".\"ApiResourceId\"))
ORDER BY \"api\".\"Id\""
2018-06-04 08:34:11.278 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Secrets\".\"Id\", \"api.Secrets\".\"ApiResourceId\", \"api.Secrets\".\"Description\", \"api.Secrets\".\"Expiration\", \"api.Secrets\".\"Type\", \"api.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"api.Secrets\"
INNER JOIN (
    SELECT \"api0\".\"Id\"
    FROM \"ApiResources\" AS \"api0\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x0\"
        WHERE \"x0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api0\".\"Id\" = \"x0\".\"ApiResourceId\"))
) AS \"t\" ON \"api.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:11.280 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes\".\"Id\", \"api.Scopes\".\"ApiResourceId\", \"api.Scopes\".\"Description\", \"api.Scopes\".\"DisplayName\", \"api.Scopes\".\"Emphasize\", \"api.Scopes\".\"Name\", \"api.Scopes\".\"Required\", \"api.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"api.Scopes\"
INNER JOIN (
    SELECT \"api1\".\"Id\"
    FROM \"ApiResources\" AS \"api1\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x1\"
        WHERE \"x1\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api1\".\"Id\" = \"x1\".\"ApiResourceId\"))
) AS \"t0\" ON \"api.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"api.Scopes\".\"Id\""
2018-06-04 08:34:11.281 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes.UserClaims\".\"Id\", \"api.Scopes.UserClaims\".\"ApiScopeId\", \"api.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"api.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"api.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"api.Scopes0\"
    INNER JOIN (
        SELECT \"api2\".\"Id\"
        FROM \"ApiResources\" AS \"api2\"
        WHERE EXISTS (
            SELECT 1
            FROM \"ApiScopes\" AS \"x2\"
            WHERE \"x2\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api2\".\"Id\" = \"x2\".\"ApiResourceId\"))
    ) AS \"t1\" ON \"api.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"api.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:11.281 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.UserClaims\".\"Id\", \"api.UserClaims\".\"ApiResourceId\", \"api.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"api.UserClaims\"
INNER JOIN (
    SELECT \"api3\".\"Id\"
    FROM \"ApiResources\" AS \"api3\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x3\"
        WHERE \"x3\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api3\".\"Id\" = \"x3\".\"ApiResourceId\"))
) AS \"t3\" ON \"api.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:11.312 -03:00 [INFO] IdentityServer4.Endpoints.AuthorizeEndpoint ValidatedAuthorizeRequest
"{
  \"ClientId\": \"rac_oidc\",
  \"ClientName\": \"OIDC Client for RAC\",
  \"RedirectUri\": \"http://localhost:5000/auth-callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost/rac/auth-callback\",
    \"http://localhost:5000/auth-callback\",
    \"http://localhost/rac/assets/silent-renew.html\",
    \"http://localhost:5000/assets/silent-renew.html\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"code id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"hybrid\",
  \"RequestedScopes\": \"openid profile email authorization_api management_api offline_access\",
  \"State\": \"bad5cefde6c64c7398a364a7a4405863\",
  \"Nonce\": \"5f9d870c684b40af872da755f7f9a055\",
  \"Raw\": {
    \"client_id\": \"rac_oidc\",
    \"redirect_uri\": \"http://localhost:5000/auth-callback\",
    \"response_type\": \"code id_token token\",
    \"scope\": \"openid profile email authorization_api management_api offline_access\",
    \"state\": \"bad5cefde6c64c7398a364a7a4405863\",
    \"nonce\": \"5f9d870c684b40af872da755f7f9a055\"
  }
}"
2018-06-04 08:34:11.325 -03:00 [INFO] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator Showing login: User is not authenticated
2018-06-04 08:34:11.327 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 845.3185ms 302 
2018-06-04 08:34:11.330 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Drac_oidc%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fauth-callback%26response_type%3Dcode%2520id_token%2520token%26scope%3Dopenid%2520profile%2520email%2520authorization_api%2520management_api%2520offline_access%26state%3Dbad5cefde6c64c7398a364a7a4405863%26nonce%3D5f9d870c684b40af872da755f7f9a055  
2018-06-04 08:34:11.393 -03:00 [INFO] Tnf.Localization.Internal.LocalizationManager Initializing 3 localization sources.
2018-06-04 08:34:11.420 -03:00 [INFO] Tnf.Localization.Internal.LocalizationManager Initialized localization source: TnfRac
2018-06-04 08:34:11.420 -03:00 [INFO] Tnf.Localization.Internal.LocalizationManager Initialized localization source: TnfRacIdentity
2018-06-04 08:34:11.498 -03:00 [INFO] Tnf.Localization.Internal.LocalizationManager Initialized localization source: Tnf
2018-06-04 08:34:11.715 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executing action method "Tnf.Rac.OpenIdOAuth2.Controllers.AccountController.Login (Tnf.Rac.OpenIdOAuth2)" with arguments (["/connect/authorize/callback?client_id=rac_oidc&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fauth-callback&response_type=code%20id_token%20token&scope=openid%20profile%20email%20authorization_api%20management_api%20offline_access&state=bad5cefde6c64c7398a364a7a4405863&nonce=5f9d870c684b40af872da755f7f9a055"]) - ModelState is Valid
2018-06-04 08:34:11.739 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:11.741 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:11.742 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"AbsoluteRefreshTokenLifetime\", \"x\".\"AccessTokenLifetime\", \"x\".\"AccessTokenType\", \"x\".\"AllowAccessTokensViaBrowser\", \"x\".\"AllowOfflineAccess\", \"x\".\"AllowPlainTextPkce\", \"x\".\"AllowRememberConsent\", \"x\".\"AlwaysIncludeUserClaimsInIdToken\", \"x\".\"AlwaysSendClientClaims\", \"x\".\"AuthorizationCodeLifetime\", \"x\".\"BackChannelLogoutSessionRequired\", \"x\".\"BackChannelLogoutUri\", \"x\".\"ClientClaimsPrefix\", \"x\".\"ClientId\", \"x\".\"ClientName\", \"x\".\"ClientUri\", \"x\".\"ConsentLifetime\", \"x\".\"Description\", \"x\".\"EnableLocalLogin\", \"x\".\"Enabled\", \"x\".\"FrontChannelLogoutSessionRequired\", \"x\".\"FrontChannelLogoutUri\", \"x\".\"IdentityTokenLifetime\", \"x\".\"IncludeJwtId\", \"x\".\"LogoUri\", \"x\".\"PairWiseSubjectSalt\", \"x\".\"ProtocolType\", \"x\".\"RefreshTokenExpiration\", \"x\".\"RefreshTokenUsage\", \"x\".\"RequireClientSecret\", \"x\".\"RequireConsent\", \"x\".\"RequirePkce\", \"x\".\"SlidingRefreshTokenLifetime\", \"x\".\"UpdateAccessTokenClaimsOnRefresh\"
FROM \"Clients\" AS \"x\"
WHERE \"x\".\"ClientId\" = @__clientId_0
ORDER BY \"x\".\"Id\"
LIMIT 1"
2018-06-04 08:34:11.743 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedGrantTypes\".\"Id\", \"x.AllowedGrantTypes\".\"ClientId\", \"x.AllowedGrantTypes\".\"GrantType\"
FROM \"ClientGrantTypes\" AS \"x.AllowedGrantTypes\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"Clients\" AS \"x0\"
    WHERE \"x0\".\"ClientId\" = @__clientId_0
    ORDER BY \"x0\".\"Id\"
    LIMIT 1
) AS \"t\" ON \"x.AllowedGrantTypes\".\"ClientId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:11.743 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.RedirectUris\".\"Id\", \"x.RedirectUris\".\"ClientId\", \"x.RedirectUris\".\"RedirectUri\"
FROM \"ClientRedirectUris\" AS \"x.RedirectUris\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"Clients\" AS \"x1\"
    WHERE \"x1\".\"ClientId\" = @__clientId_0
    ORDER BY \"x1\".\"Id\"
    LIMIT 1
) AS \"t0\" ON \"x.RedirectUris\".\"ClientId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\""
2018-06-04 08:34:11.744 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.PostLogoutRedirectUris\".\"Id\", \"x.PostLogoutRedirectUris\".\"ClientId\", \"x.PostLogoutRedirectUris\".\"PostLogoutRedirectUri\"
FROM \"ClientPostLogoutRedirectUris\" AS \"x.PostLogoutRedirectUris\"
INNER JOIN (
    SELECT \"x2\".\"Id\"
    FROM \"Clients\" AS \"x2\"
    WHERE \"x2\".\"ClientId\" = @__clientId_0
    ORDER BY \"x2\".\"Id\"
    LIMIT 1
) AS \"t1\" ON \"x.PostLogoutRedirectUris\".\"ClientId\" = \"t1\".\"Id\"
ORDER BY \"t1\".\"Id\""
2018-06-04 08:34:11.744 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedScopes\".\"Id\", \"x.AllowedScopes\".\"ClientId\", \"x.AllowedScopes\".\"Scope\"
FROM \"ClientScopes\" AS \"x.AllowedScopes\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"Clients\" AS \"x3\"
    WHERE \"x3\".\"ClientId\" = @__clientId_0
    ORDER BY \"x3\".\"Id\"
    LIMIT 1
) AS \"t2\" ON \"x.AllowedScopes\".\"ClientId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id\""
2018-06-04 08:34:11.746 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.ClientSecrets\".\"Id\", \"x.ClientSecrets\".\"ClientId\", \"x.ClientSecrets\".\"Description\", \"x.ClientSecrets\".\"Expiration\", \"x.ClientSecrets\".\"Type\", \"x.ClientSecrets\".\"Value\"
FROM \"ClientSecrets\" AS \"x.ClientSecrets\"
INNER JOIN (
    SELECT \"x4\".\"Id\"
    FROM \"Clients\" AS \"x4\"
    WHERE \"x4\".\"ClientId\" = @__clientId_0
    ORDER BY \"x4\".\"Id\"
    LIMIT 1
) AS \"t3\" ON \"x.ClientSecrets\".\"ClientId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:11.748 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Claims\".\"Id\", \"x.Claims\".\"ClientId\", \"x.Claims\".\"Type\", \"x.Claims\".\"Value\"
FROM \"ClientClaims\" AS \"x.Claims\"
INNER JOIN (
    SELECT \"x5\".\"Id\"
    FROM \"Clients\" AS \"x5\"
    WHERE \"x5\".\"ClientId\" = @__clientId_0
    ORDER BY \"x5\".\"Id\"
    LIMIT 1
) AS \"t4\" ON \"x.Claims\".\"ClientId\" = \"t4\".\"Id\"
ORDER BY \"t4\".\"Id\""
2018-06-04 08:34:11.748 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.IdentityProviderRestrictions\".\"Id\", \"x.IdentityProviderRestrictions\".\"ClientId\", \"x.IdentityProviderRestrictions\".\"Provider\"
FROM \"ClientIdPRestrictions\" AS \"x.IdentityProviderRestrictions\"
INNER JOIN (
    SELECT \"x6\".\"Id\"
    FROM \"Clients\" AS \"x6\"
    WHERE \"x6\".\"ClientId\" = @__clientId_0
    ORDER BY \"x6\".\"Id\"
    LIMIT 1
) AS \"t5\" ON \"x.IdentityProviderRestrictions\".\"ClientId\" = \"t5\".\"Id\"
ORDER BY \"t5\".\"Id\""
2018-06-04 08:34:11.749 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedCorsOrigins\".\"Id\", \"x.AllowedCorsOrigins\".\"ClientId\", \"x.AllowedCorsOrigins\".\"Origin\"
FROM \"ClientCorsOrigins\" AS \"x.AllowedCorsOrigins\"
INNER JOIN (
    SELECT \"x7\".\"Id\"
    FROM \"Clients\" AS \"x7\"
    WHERE \"x7\".\"ClientId\" = @__clientId_0
    ORDER BY \"x7\".\"Id\"
    LIMIT 1
) AS \"t6\" ON \"x.AllowedCorsOrigins\".\"ClientId\" = \"t6\".\"Id\"
ORDER BY \"t6\".\"Id\""
2018-06-04 08:34:11.749 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Properties\".\"Id\", \"x.Properties\".\"ClientId\", \"x.Properties\".\"Key\", \"x.Properties\".\"Value\"
FROM \"ClientProperties\" AS \"x.Properties\"
INNER JOIN (
    SELECT \"x8\".\"Id\"
    FROM \"Clients\" AS \"x8\"
    WHERE \"x8\".\"ClientId\" = @__clientId_0
    ORDER BY \"x8\".\"Id\"
    LIMIT 1
) AS \"t7\" ON \"x.Properties\".\"ClientId\" = \"t7\".\"Id\"
ORDER BY \"t7\".\"Id\""
2018-06-04 08:34:11.751 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:11.752 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource\".\"Id\", \"identityResource\".\"Description\", \"identityResource\".\"DisplayName\", \"identityResource\".\"Emphasize\", \"identityResource\".\"Enabled\", \"identityResource\".\"Name\", \"identityResource\".\"Required\", \"identityResource\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"identityResource\"
WHERE \"identityResource\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
ORDER BY \"identityResource\".\"Id\""
2018-06-04 08:34:11.753 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource.UserClaims\".\"Id\", \"identityResource.UserClaims\".\"IdentityResourceId\", \"identityResource.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"identityResource.UserClaims\"
INNER JOIN (
    SELECT \"identityResource0\".\"Id\"
    FROM \"IdentityResources\" AS \"identityResource0\"
    WHERE \"identityResource0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
) AS \"t\" ON \"identityResource.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:11.755 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:11.758 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api\".\"Id\", \"api\".\"Description\", \"api\".\"DisplayName\", \"api\".\"Enabled\", \"api\".\"Name\"
FROM \"ApiResources\" AS \"api\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS \"x\"
    WHERE \"x\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api\".\"Id\" = \"x\".\"ApiResourceId\"))
ORDER BY \"api\".\"Id\""
2018-06-04 08:34:11.760 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Secrets\".\"Id\", \"api.Secrets\".\"ApiResourceId\", \"api.Secrets\".\"Description\", \"api.Secrets\".\"Expiration\", \"api.Secrets\".\"Type\", \"api.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"api.Secrets\"
INNER JOIN (
    SELECT \"api0\".\"Id\"
    FROM \"ApiResources\" AS \"api0\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x0\"
        WHERE \"x0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api0\".\"Id\" = \"x0\".\"ApiResourceId\"))
) AS \"t\" ON \"api.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:11.764 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes\".\"Id\", \"api.Scopes\".\"ApiResourceId\", \"api.Scopes\".\"Description\", \"api.Scopes\".\"DisplayName\", \"api.Scopes\".\"Emphasize\", \"api.Scopes\".\"Name\", \"api.Scopes\".\"Required\", \"api.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"api.Scopes\"
INNER JOIN (
    SELECT \"api1\".\"Id\"
    FROM \"ApiResources\" AS \"api1\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x1\"
        WHERE \"x1\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api1\".\"Id\" = \"x1\".\"ApiResourceId\"))
) AS \"t0\" ON \"api.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"api.Scopes\".\"Id\""
2018-06-04 08:34:11.766 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes.UserClaims\".\"Id\", \"api.Scopes.UserClaims\".\"ApiScopeId\", \"api.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"api.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"api.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"api.Scopes0\"
    INNER JOIN (
        SELECT \"api2\".\"Id\"
        FROM \"ApiResources\" AS \"api2\"
        WHERE EXISTS (
            SELECT 1
            FROM \"ApiScopes\" AS \"x2\"
            WHERE \"x2\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api2\".\"Id\" = \"x2\".\"ApiResourceId\"))
    ) AS \"t1\" ON \"api.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"api.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:11.767 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.UserClaims\".\"Id\", \"api.UserClaims\".\"ApiResourceId\", \"api.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"api.UserClaims\"
INNER JOIN (
    SELECT \"api3\".\"Id\"
    FROM \"ApiResources\" AS \"api3\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x3\"
        WHERE \"x3\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api3\".\"Id\" = \"x3\".\"ApiResourceId\"))
) AS \"t3\" ON \"api.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:11.770 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:11.774 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource\".\"Id\", \"identityResource\".\"Description\", \"identityResource\".\"DisplayName\", \"identityResource\".\"Emphasize\", \"identityResource\".\"Enabled\", \"identityResource\".\"Name\", \"identityResource\".\"Required\", \"identityResource\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"identityResource\"
WHERE \"identityResource\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
ORDER BY \"identityResource\".\"Id\""
2018-06-04 08:34:11.775 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource.UserClaims\".\"Id\", \"identityResource.UserClaims\".\"IdentityResourceId\", \"identityResource.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"identityResource.UserClaims\"
INNER JOIN (
    SELECT \"identityResource0\".\"Id\"
    FROM \"IdentityResources\" AS \"identityResource0\"
    WHERE \"identityResource0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
) AS \"t\" ON \"identityResource.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:11.777 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:11.780 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api\".\"Id\", \"api\".\"Description\", \"api\".\"DisplayName\", \"api\".\"Enabled\", \"api\".\"Name\"
FROM \"ApiResources\" AS \"api\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS \"x\"
    WHERE \"x\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api\".\"Id\" = \"x\".\"ApiResourceId\"))
ORDER BY \"api\".\"Id\""
2018-06-04 08:34:11.782 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Secrets\".\"Id\", \"api.Secrets\".\"ApiResourceId\", \"api.Secrets\".\"Description\", \"api.Secrets\".\"Expiration\", \"api.Secrets\".\"Type\", \"api.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"api.Secrets\"
INNER JOIN (
    SELECT \"api0\".\"Id\"
    FROM \"ApiResources\" AS \"api0\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x0\"
        WHERE \"x0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api0\".\"Id\" = \"x0\".\"ApiResourceId\"))
) AS \"t\" ON \"api.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:11.783 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes\".\"Id\", \"api.Scopes\".\"ApiResourceId\", \"api.Scopes\".\"Description\", \"api.Scopes\".\"DisplayName\", \"api.Scopes\".\"Emphasize\", \"api.Scopes\".\"Name\", \"api.Scopes\".\"Required\", \"api.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"api.Scopes\"
INNER JOIN (
    SELECT \"api1\".\"Id\"
    FROM \"ApiResources\" AS \"api1\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x1\"
        WHERE \"x1\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api1\".\"Id\" = \"x1\".\"ApiResourceId\"))
) AS \"t0\" ON \"api.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"api.Scopes\".\"Id\""
2018-06-04 08:34:11.784 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes.UserClaims\".\"Id\", \"api.Scopes.UserClaims\".\"ApiScopeId\", \"api.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"api.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"api.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"api.Scopes0\"
    INNER JOIN (
        SELECT \"api2\".\"Id\"
        FROM \"ApiResources\" AS \"api2\"
        WHERE EXISTS (
            SELECT 1
            FROM \"ApiScopes\" AS \"x2\"
            WHERE \"x2\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api2\".\"Id\" = \"x2\".\"ApiResourceId\"))
    ) AS \"t1\" ON \"api.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"api.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:11.786 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.UserClaims\".\"Id\", \"api.UserClaims\".\"ApiResourceId\", \"api.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"api.UserClaims\"
INNER JOIN (
    SELECT \"api3\".\"Id\"
    FROM \"ApiResources\" AS \"api3\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x3\"
        WHERE \"x3\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api3\".\"Id\" = \"x3\".\"ApiResourceId\"))
) AS \"t3\" ON \"api.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:12.353 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:12.355 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"AbsoluteRefreshTokenLifetime\", \"x\".\"AccessTokenLifetime\", \"x\".\"AccessTokenType\", \"x\".\"AllowAccessTokensViaBrowser\", \"x\".\"AllowOfflineAccess\", \"x\".\"AllowPlainTextPkce\", \"x\".\"AllowRememberConsent\", \"x\".\"AlwaysIncludeUserClaimsInIdToken\", \"x\".\"AlwaysSendClientClaims\", \"x\".\"AuthorizationCodeLifetime\", \"x\".\"BackChannelLogoutSessionRequired\", \"x\".\"BackChannelLogoutUri\", \"x\".\"ClientClaimsPrefix\", \"x\".\"ClientId\", \"x\".\"ClientName\", \"x\".\"ClientUri\", \"x\".\"ConsentLifetime\", \"x\".\"Description\", \"x\".\"EnableLocalLogin\", \"x\".\"Enabled\", \"x\".\"FrontChannelLogoutSessionRequired\", \"x\".\"FrontChannelLogoutUri\", \"x\".\"IdentityTokenLifetime\", \"x\".\"IncludeJwtId\", \"x\".\"LogoUri\", \"x\".\"PairWiseSubjectSalt\", \"x\".\"ProtocolType\", \"x\".\"RefreshTokenExpiration\", \"x\".\"RefreshTokenUsage\", \"x\".\"RequireClientSecret\", \"x\".\"RequireConsent\", \"x\".\"RequirePkce\", \"x\".\"SlidingRefreshTokenLifetime\", \"x\".\"UpdateAccessTokenClaimsOnRefresh\"
FROM \"Clients\" AS \"x\"
WHERE \"x\".\"ClientId\" = @__clientId_0
ORDER BY \"x\".\"Id\"
LIMIT 1"
2018-06-04 08:34:12.355 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedGrantTypes\".\"Id\", \"x.AllowedGrantTypes\".\"ClientId\", \"x.AllowedGrantTypes\".\"GrantType\"
FROM \"ClientGrantTypes\" AS \"x.AllowedGrantTypes\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"Clients\" AS \"x0\"
    WHERE \"x0\".\"ClientId\" = @__clientId_0
    ORDER BY \"x0\".\"Id\"
    LIMIT 1
) AS \"t\" ON \"x.AllowedGrantTypes\".\"ClientId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:12.356 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.RedirectUris\".\"Id\", \"x.RedirectUris\".\"ClientId\", \"x.RedirectUris\".\"RedirectUri\"
FROM \"ClientRedirectUris\" AS \"x.RedirectUris\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"Clients\" AS \"x1\"
    WHERE \"x1\".\"ClientId\" = @__clientId_0
    ORDER BY \"x1\".\"Id\"
    LIMIT 1
) AS \"t0\" ON \"x.RedirectUris\".\"ClientId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\""
2018-06-04 08:34:12.356 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.PostLogoutRedirectUris\".\"Id\", \"x.PostLogoutRedirectUris\".\"ClientId\", \"x.PostLogoutRedirectUris\".\"PostLogoutRedirectUri\"
FROM \"ClientPostLogoutRedirectUris\" AS \"x.PostLogoutRedirectUris\"
INNER JOIN (
    SELECT \"x2\".\"Id\"
    FROM \"Clients\" AS \"x2\"
    WHERE \"x2\".\"ClientId\" = @__clientId_0
    ORDER BY \"x2\".\"Id\"
    LIMIT 1
) AS \"t1\" ON \"x.PostLogoutRedirectUris\".\"ClientId\" = \"t1\".\"Id\"
ORDER BY \"t1\".\"Id\""
2018-06-04 08:34:12.357 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedScopes\".\"Id\", \"x.AllowedScopes\".\"ClientId\", \"x.AllowedScopes\".\"Scope\"
FROM \"ClientScopes\" AS \"x.AllowedScopes\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"Clients\" AS \"x3\"
    WHERE \"x3\".\"ClientId\" = @__clientId_0
    ORDER BY \"x3\".\"Id\"
    LIMIT 1
) AS \"t2\" ON \"x.AllowedScopes\".\"ClientId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id\""
2018-06-04 08:34:12.357 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.ClientSecrets\".\"Id\", \"x.ClientSecrets\".\"ClientId\", \"x.ClientSecrets\".\"Description\", \"x.ClientSecrets\".\"Expiration\", \"x.ClientSecrets\".\"Type\", \"x.ClientSecrets\".\"Value\"
FROM \"ClientSecrets\" AS \"x.ClientSecrets\"
INNER JOIN (
    SELECT \"x4\".\"Id\"
    FROM \"Clients\" AS \"x4\"
    WHERE \"x4\".\"ClientId\" = @__clientId_0
    ORDER BY \"x4\".\"Id\"
    LIMIT 1
) AS \"t3\" ON \"x.ClientSecrets\".\"ClientId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:12.358 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Claims\".\"Id\", \"x.Claims\".\"ClientId\", \"x.Claims\".\"Type\", \"x.Claims\".\"Value\"
FROM \"ClientClaims\" AS \"x.Claims\"
INNER JOIN (
    SELECT \"x5\".\"Id\"
    FROM \"Clients\" AS \"x5\"
    WHERE \"x5\".\"ClientId\" = @__clientId_0
    ORDER BY \"x5\".\"Id\"
    LIMIT 1
) AS \"t4\" ON \"x.Claims\".\"ClientId\" = \"t4\".\"Id\"
ORDER BY \"t4\".\"Id\""
2018-06-04 08:34:12.358 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.IdentityProviderRestrictions\".\"Id\", \"x.IdentityProviderRestrictions\".\"ClientId\", \"x.IdentityProviderRestrictions\".\"Provider\"
FROM \"ClientIdPRestrictions\" AS \"x.IdentityProviderRestrictions\"
INNER JOIN (
    SELECT \"x6\".\"Id\"
    FROM \"Clients\" AS \"x6\"
    WHERE \"x6\".\"ClientId\" = @__clientId_0
    ORDER BY \"x6\".\"Id\"
    LIMIT 1
) AS \"t5\" ON \"x.IdentityProviderRestrictions\".\"ClientId\" = \"t5\".\"Id\"
ORDER BY \"t5\".\"Id\""
2018-06-04 08:34:12.359 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedCorsOrigins\".\"Id\", \"x.AllowedCorsOrigins\".\"ClientId\", \"x.AllowedCorsOrigins\".\"Origin\"
FROM \"ClientCorsOrigins\" AS \"x.AllowedCorsOrigins\"
INNER JOIN (
    SELECT \"x7\".\"Id\"
    FROM \"Clients\" AS \"x7\"
    WHERE \"x7\".\"ClientId\" = @__clientId_0
    ORDER BY \"x7\".\"Id\"
    LIMIT 1
) AS \"t6\" ON \"x.AllowedCorsOrigins\".\"ClientId\" = \"t6\".\"Id\"
ORDER BY \"t6\".\"Id\""
2018-06-04 08:34:12.359 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Properties\".\"Id\", \"x.Properties\".\"ClientId\", \"x.Properties\".\"Key\", \"x.Properties\".\"Value\"
FROM \"ClientProperties\" AS \"x.Properties\"
INNER JOIN (
    SELECT \"x8\".\"Id\"
    FROM \"Clients\" AS \"x8\"
    WHERE \"x8\".\"ClientId\" = @__clientId_0
    ORDER BY \"x8\".\"Id\"
    LIMIT 1
) AS \"t7\" ON \"x.Properties\".\"ClientId\" = \"t7\".\"Id\"
ORDER BY \"t7\".\"Id\""
2018-06-04 08:34:12.470 -03:00 [INFO] Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor Executing ViewResult, running view at path "/Views/Account/Login.cshtml".
2018-06-04 08:34:12.899 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executed action "Tnf.Rac.OpenIdOAuth2.Controllers.AccountController.Login (Tnf.Rac.OpenIdOAuth2)" in 1317.3433ms
2018-06-04 08:34:12.902 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 1571.4962ms 200 text/html; charset=utf-8
2018-06-04 08:34:13.605 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/assets/images/totvs-avatar-default.svg  
2018-06-04 08:34:13.609 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file "/assets/images/totvs-avatar-default.svg" was not modified
2018-06-04 08:34:13.609 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 3.7648ms 304 image/svg+xml
2018-06-04 08:34:13.624 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:13.625 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:13.625 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:13.626 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:13.628 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:13.630 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:13.634 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:13.636 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:13.636 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:13.636 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:13.637 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:13.637 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:13.638 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 14.5659ms 200 application/json; charset=UTF-8
2018-06-04 08:34:13.686 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession  
2018-06-04 08:34:13.686 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2018-06-04 08:34:13.687 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 0.8014ms 200 text/html; charset=UTF-8
2018-06-04 08:34:13.707 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/css/slider.css  
2018-06-04 08:34:13.708 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/css/guideline.css  
2018-06-04 08:34:13.708 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/css/guideline.css"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\css\guideline.css"'
2018-06-04 08:34:13.708 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/css/slider.css"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\css\slider.css"'
2018-06-04 08:34:13.708 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/css/guideline-login.css  
2018-06-04 08:34:13.709 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/css/guideline-login.css"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\css\guideline-login.css"'
2018-06-04 08:34:13.721 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 10.8352ms 200 text/css
2018-06-04 08:34:13.745 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 37.4027ms 200 text/css
2018-06-04 08:34:13.745 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 36.7363ms 200 text/css
2018-06-04 08:34:13.751 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/img/logo_totvs.png  
2018-06-04 08:34:13.751 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/img/logo_totvs.png"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\img\logo_totvs.png"'
2018-06-04 08:34:13.754 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 2.8551ms 200 image/png
2018-06-04 08:34:13.757 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/svg/logo_grey.svg  
2018-06-04 08:34:13.757 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/svg/logo_grey.svg"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\svg\logo_grey.svg"'
2018-06-04 08:34:13.761 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 3.7941ms 200 image/svg+xml
2018-06-04 08:34:14.366 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/fonts/NunitoSans-Regular.ttf  
2018-06-04 08:34:14.367 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:14.367 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/fonts/NunitoSans-Regular.ttf"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\fonts\NunitoSans-Regular.ttf"'
2018-06-04 08:34:14.368 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/svg/lock_blue.svg  
2018-06-04 08:34:14.368 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/svg/lock_blue.svg"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\svg\lock_blue.svg"'
2018-06-04 08:34:14.368 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/svg/user_blue.svg  
2018-06-04 08:34:14.369 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/svg/user_blue.svg"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\svg\user_blue.svg"'
2018-06-04 08:34:14.369 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/fonts/NunitoSans-ExtraLight.ttf  
2018-06-04 08:34:14.369 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:14.369 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/fonts/NunitoSans-ExtraLight.ttf"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\fonts\NunitoSans-ExtraLight.ttf"'
2018-06-04 08:34:14.369 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/svg/x_gray.svg  
2018-06-04 08:34:14.369 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/svg/x_gray.svg"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\svg\x_gray.svg"'
2018-06-04 08:34:14.372 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/fonts/NunitoSans-Bold.ttf  
2018-06-04 08:34:14.372 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:14.372 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/fonts/NunitoSans-Bold.ttf"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\wwwroot\fonts\NunitoSans-Bold.ttf"'
2018-06-04 08:34:14.373 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 4.9655ms 200 image/svg+xml
2018-06-04 08:34:14.373 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 4.5209ms 200 image/svg+xml
2018-06-04 08:34:14.382 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 9.2442ms 200 application/x-font-ttf
2018-06-04 08:34:14.384 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 14.929ms 200 image/svg+xml
2018-06-04 08:34:14.385 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 17.7345ms 200 application/x-font-ttf
2018-06-04 08:34:14.386 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 16.7401ms 200 application/x-font-ttf
2018-06-04 08:34:20.696 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 POST http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Drac_oidc%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fauth-callback%26response_type%3Dcode%2520id_token%2520token%26scope%3Dopenid%2520profile%2520email%2520authorization_api%2520management_api%2520offline_access%26state%3Dbad5cefde6c64c7398a364a7a4405863%26nonce%3D5f9d870c684b40af872da755f7f9a055 application/x-www-form-urlencoded 629
2018-06-04 08:34:20.696 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:20.819 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executing action method "Tnf.Rac.OpenIdOAuth2.Controllers.AccountController.Login (Tnf.Rac.OpenIdOAuth2)" with arguments (["Tnf.Rac.OpenIdOAuth2.ViewModels.LoginInputViewModel"]) - ModelState is Valid
2018-06-04 08:34:20.898 -03:00 [INFO] Tnf.Rac.Authorization.ExternalAuthentication.TnfExternalAuthenticationSource ExtenalAuthentication -> TryAuthenticateAsync settings of external url authentication not found for tenant 
2018-06-04 08:34:21.631 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" signed in.
2018-06-04 08:34:21.643 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor Executing JsonResult, writing value "{ TargetUrl = /connect/authorize/callback?client_id=rac_oidc&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fauth-callback&response_type=code%20id_token%20token&scope=openid%20profile%20email%20authorization_api%20management_api%20offline_access&state=bad5cefde6c64c7398a364a7a4405863&nonce=5f9d870c684b40af872da755f7f9a055 }".
2018-06-04 08:34:21.648 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executed action "Tnf.Rac.OpenIdOAuth2.Controllers.AccountController.Login (Tnf.Rac.OpenIdOAuth2)" in 928.6832ms
2018-06-04 08:34:21.657 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 960.875ms 302 application/json; charset=utf-8
2018-06-04 08:34:21.661 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=rac_oidc&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fauth-callback&response_type=code%20id_token%20token&scope=openid%20profile%20email%20authorization_api%20management_api%20offline_access&state=bad5cefde6c64c7398a364a7a4405863&nonce=5f9d870c684b40af872da755f7f9a055  
2018-06-04 08:34:21.685 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:21.686 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:21.687 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
2018-06-04 08:34:21.701 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:21.709 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:21.709 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"AbsoluteRefreshTokenLifetime\", \"x\".\"AccessTokenLifetime\", \"x\".\"AccessTokenType\", \"x\".\"AllowAccessTokensViaBrowser\", \"x\".\"AllowOfflineAccess\", \"x\".\"AllowPlainTextPkce\", \"x\".\"AllowRememberConsent\", \"x\".\"AlwaysIncludeUserClaimsInIdToken\", \"x\".\"AlwaysSendClientClaims\", \"x\".\"AuthorizationCodeLifetime\", \"x\".\"BackChannelLogoutSessionRequired\", \"x\".\"BackChannelLogoutUri\", \"x\".\"ClientClaimsPrefix\", \"x\".\"ClientId\", \"x\".\"ClientName\", \"x\".\"ClientUri\", \"x\".\"ConsentLifetime\", \"x\".\"Description\", \"x\".\"EnableLocalLogin\", \"x\".\"Enabled\", \"x\".\"FrontChannelLogoutSessionRequired\", \"x\".\"FrontChannelLogoutUri\", \"x\".\"IdentityTokenLifetime\", \"x\".\"IncludeJwtId\", \"x\".\"LogoUri\", \"x\".\"PairWiseSubjectSalt\", \"x\".\"ProtocolType\", \"x\".\"RefreshTokenExpiration\", \"x\".\"RefreshTokenUsage\", \"x\".\"RequireClientSecret\", \"x\".\"RequireConsent\", \"x\".\"RequirePkce\", \"x\".\"SlidingRefreshTokenLifetime\", \"x\".\"UpdateAccessTokenClaimsOnRefresh\"
FROM \"Clients\" AS \"x\"
WHERE \"x\".\"ClientId\" = @__clientId_0
ORDER BY \"x\".\"Id\"
LIMIT 1"
2018-06-04 08:34:21.710 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedGrantTypes\".\"Id\", \"x.AllowedGrantTypes\".\"ClientId\", \"x.AllowedGrantTypes\".\"GrantType\"
FROM \"ClientGrantTypes\" AS \"x.AllowedGrantTypes\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"Clients\" AS \"x0\"
    WHERE \"x0\".\"ClientId\" = @__clientId_0
    ORDER BY \"x0\".\"Id\"
    LIMIT 1
) AS \"t\" ON \"x.AllowedGrantTypes\".\"ClientId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:21.710 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.RedirectUris\".\"Id\", \"x.RedirectUris\".\"ClientId\", \"x.RedirectUris\".\"RedirectUri\"
FROM \"ClientRedirectUris\" AS \"x.RedirectUris\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"Clients\" AS \"x1\"
    WHERE \"x1\".\"ClientId\" = @__clientId_0
    ORDER BY \"x1\".\"Id\"
    LIMIT 1
) AS \"t0\" ON \"x.RedirectUris\".\"ClientId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\""
2018-06-04 08:34:21.710 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.PostLogoutRedirectUris\".\"Id\", \"x.PostLogoutRedirectUris\".\"ClientId\", \"x.PostLogoutRedirectUris\".\"PostLogoutRedirectUri\"
FROM \"ClientPostLogoutRedirectUris\" AS \"x.PostLogoutRedirectUris\"
INNER JOIN (
    SELECT \"x2\".\"Id\"
    FROM \"Clients\" AS \"x2\"
    WHERE \"x2\".\"ClientId\" = @__clientId_0
    ORDER BY \"x2\".\"Id\"
    LIMIT 1
) AS \"t1\" ON \"x.PostLogoutRedirectUris\".\"ClientId\" = \"t1\".\"Id\"
ORDER BY \"t1\".\"Id\""
2018-06-04 08:34:21.712 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedScopes\".\"Id\", \"x.AllowedScopes\".\"ClientId\", \"x.AllowedScopes\".\"Scope\"
FROM \"ClientScopes\" AS \"x.AllowedScopes\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"Clients\" AS \"x3\"
    WHERE \"x3\".\"ClientId\" = @__clientId_0
    ORDER BY \"x3\".\"Id\"
    LIMIT 1
) AS \"t2\" ON \"x.AllowedScopes\".\"ClientId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id\""
2018-06-04 08:34:21.713 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.ClientSecrets\".\"Id\", \"x.ClientSecrets\".\"ClientId\", \"x.ClientSecrets\".\"Description\", \"x.ClientSecrets\".\"Expiration\", \"x.ClientSecrets\".\"Type\", \"x.ClientSecrets\".\"Value\"
FROM \"ClientSecrets\" AS \"x.ClientSecrets\"
INNER JOIN (
    SELECT \"x4\".\"Id\"
    FROM \"Clients\" AS \"x4\"
    WHERE \"x4\".\"ClientId\" = @__clientId_0
    ORDER BY \"x4\".\"Id\"
    LIMIT 1
) AS \"t3\" ON \"x.ClientSecrets\".\"ClientId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:21.713 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Claims\".\"Id\", \"x.Claims\".\"ClientId\", \"x.Claims\".\"Type\", \"x.Claims\".\"Value\"
FROM \"ClientClaims\" AS \"x.Claims\"
INNER JOIN (
    SELECT \"x5\".\"Id\"
    FROM \"Clients\" AS \"x5\"
    WHERE \"x5\".\"ClientId\" = @__clientId_0
    ORDER BY \"x5\".\"Id\"
    LIMIT 1
) AS \"t4\" ON \"x.Claims\".\"ClientId\" = \"t4\".\"Id\"
ORDER BY \"t4\".\"Id\""
2018-06-04 08:34:21.713 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.IdentityProviderRestrictions\".\"Id\", \"x.IdentityProviderRestrictions\".\"ClientId\", \"x.IdentityProviderRestrictions\".\"Provider\"
FROM \"ClientIdPRestrictions\" AS \"x.IdentityProviderRestrictions\"
INNER JOIN (
    SELECT \"x6\".\"Id\"
    FROM \"Clients\" AS \"x6\"
    WHERE \"x6\".\"ClientId\" = @__clientId_0
    ORDER BY \"x6\".\"Id\"
    LIMIT 1
) AS \"t5\" ON \"x.IdentityProviderRestrictions\".\"ClientId\" = \"t5\".\"Id\"
ORDER BY \"t5\".\"Id\""
2018-06-04 08:34:21.715 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedCorsOrigins\".\"Id\", \"x.AllowedCorsOrigins\".\"ClientId\", \"x.AllowedCorsOrigins\".\"Origin\"
FROM \"ClientCorsOrigins\" AS \"x.AllowedCorsOrigins\"
INNER JOIN (
    SELECT \"x7\".\"Id\"
    FROM \"Clients\" AS \"x7\"
    WHERE \"x7\".\"ClientId\" = @__clientId_0
    ORDER BY \"x7\".\"Id\"
    LIMIT 1
) AS \"t6\" ON \"x.AllowedCorsOrigins\".\"ClientId\" = \"t6\".\"Id\"
ORDER BY \"t6\".\"Id\""
2018-06-04 08:34:21.717 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Properties\".\"Id\", \"x.Properties\".\"ClientId\", \"x.Properties\".\"Key\", \"x.Properties\".\"Value\"
FROM \"ClientProperties\" AS \"x.Properties\"
INNER JOIN (
    SELECT \"x8\".\"Id\"
    FROM \"Clients\" AS \"x8\"
    WHERE \"x8\".\"ClientId\" = @__clientId_0
    ORDER BY \"x8\".\"Id\"
    LIMIT 1
) AS \"t7\" ON \"x.Properties\".\"ClientId\" = \"t7\".\"Id\"
ORDER BY \"t7\".\"Id\""
2018-06-04 08:34:21.718 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:21.719 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource\".\"Id\", \"identityResource\".\"Description\", \"identityResource\".\"DisplayName\", \"identityResource\".\"Emphasize\", \"identityResource\".\"Enabled\", \"identityResource\".\"Name\", \"identityResource\".\"Required\", \"identityResource\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"identityResource\"
WHERE \"identityResource\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
ORDER BY \"identityResource\".\"Id\""
2018-06-04 08:34:21.720 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource.UserClaims\".\"Id\", \"identityResource.UserClaims\".\"IdentityResourceId\", \"identityResource.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"identityResource.UserClaims\"
INNER JOIN (
    SELECT \"identityResource0\".\"Id\"
    FROM \"IdentityResources\" AS \"identityResource0\"
    WHERE \"identityResource0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
) AS \"t\" ON \"identityResource.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:21.721 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:21.723 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api\".\"Id\", \"api\".\"Description\", \"api\".\"DisplayName\", \"api\".\"Enabled\", \"api\".\"Name\"
FROM \"ApiResources\" AS \"api\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS \"x\"
    WHERE \"x\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api\".\"Id\" = \"x\".\"ApiResourceId\"))
ORDER BY \"api\".\"Id\""
2018-06-04 08:34:21.723 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Secrets\".\"Id\", \"api.Secrets\".\"ApiResourceId\", \"api.Secrets\".\"Description\", \"api.Secrets\".\"Expiration\", \"api.Secrets\".\"Type\", \"api.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"api.Secrets\"
INNER JOIN (
    SELECT \"api0\".\"Id\"
    FROM \"ApiResources\" AS \"api0\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x0\"
        WHERE \"x0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api0\".\"Id\" = \"x0\".\"ApiResourceId\"))
) AS \"t\" ON \"api.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:21.724 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes\".\"Id\", \"api.Scopes\".\"ApiResourceId\", \"api.Scopes\".\"Description\", \"api.Scopes\".\"DisplayName\", \"api.Scopes\".\"Emphasize\", \"api.Scopes\".\"Name\", \"api.Scopes\".\"Required\", \"api.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"api.Scopes\"
INNER JOIN (
    SELECT \"api1\".\"Id\"
    FROM \"ApiResources\" AS \"api1\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x1\"
        WHERE \"x1\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api1\".\"Id\" = \"x1\".\"ApiResourceId\"))
) AS \"t0\" ON \"api.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"api.Scopes\".\"Id\""
2018-06-04 08:34:21.724 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes.UserClaims\".\"Id\", \"api.Scopes.UserClaims\".\"ApiScopeId\", \"api.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"api.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"api.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"api.Scopes0\"
    INNER JOIN (
        SELECT \"api2\".\"Id\"
        FROM \"ApiResources\" AS \"api2\"
        WHERE EXISTS (
            SELECT 1
            FROM \"ApiScopes\" AS \"x2\"
            WHERE \"x2\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api2\".\"Id\" = \"x2\".\"ApiResourceId\"))
    ) AS \"t1\" ON \"api.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"api.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:21.725 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.UserClaims\".\"Id\", \"api.UserClaims\".\"ApiResourceId\", \"api.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"api.UserClaims\"
INNER JOIN (
    SELECT \"api3\".\"Id\"
    FROM \"ApiResources\" AS \"api3\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x3\"
        WHERE \"x3\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api3\".\"Id\" = \"x3\".\"ApiResourceId\"))
) AS \"t3\" ON \"api.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:21.726 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:21.728 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource\".\"Id\", \"identityResource\".\"Description\", \"identityResource\".\"DisplayName\", \"identityResource\".\"Emphasize\", \"identityResource\".\"Enabled\", \"identityResource\".\"Name\", \"identityResource\".\"Required\", \"identityResource\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"identityResource\"
WHERE \"identityResource\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
ORDER BY \"identityResource\".\"Id\""
2018-06-04 08:34:21.729 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource.UserClaims\".\"Id\", \"identityResource.UserClaims\".\"IdentityResourceId\", \"identityResource.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"identityResource.UserClaims\"
INNER JOIN (
    SELECT \"identityResource0\".\"Id\"
    FROM \"IdentityResources\" AS \"identityResource0\"
    WHERE \"identityResource0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api')
) AS \"t\" ON \"identityResource.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:21.730 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:21.731 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api\".\"Id\", \"api\".\"Description\", \"api\".\"DisplayName\", \"api\".\"Enabled\", \"api\".\"Name\"
FROM \"ApiResources\" AS \"api\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS \"x\"
    WHERE \"x\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api\".\"Id\" = \"x\".\"ApiResourceId\"))
ORDER BY \"api\".\"Id\""
2018-06-04 08:34:21.733 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Secrets\".\"Id\", \"api.Secrets\".\"ApiResourceId\", \"api.Secrets\".\"Description\", \"api.Secrets\".\"Expiration\", \"api.Secrets\".\"Type\", \"api.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"api.Secrets\"
INNER JOIN (
    SELECT \"api0\".\"Id\"
    FROM \"ApiResources\" AS \"api0\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x0\"
        WHERE \"x0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api0\".\"Id\" = \"x0\".\"ApiResourceId\"))
) AS \"t\" ON \"api.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:21.733 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes\".\"Id\", \"api.Scopes\".\"ApiResourceId\", \"api.Scopes\".\"Description\", \"api.Scopes\".\"DisplayName\", \"api.Scopes\".\"Emphasize\", \"api.Scopes\".\"Name\", \"api.Scopes\".\"Required\", \"api.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"api.Scopes\"
INNER JOIN (
    SELECT \"api1\".\"Id\"
    FROM \"ApiResources\" AS \"api1\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x1\"
        WHERE \"x1\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api1\".\"Id\" = \"x1\".\"ApiResourceId\"))
) AS \"t0\" ON \"api.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"api.Scopes\".\"Id\""
2018-06-04 08:34:21.733 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.Scopes.UserClaims\".\"Id\", \"api.Scopes.UserClaims\".\"ApiScopeId\", \"api.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"api.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"api.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"api.Scopes0\"
    INNER JOIN (
        SELECT \"api2\".\"Id\"
        FROM \"ApiResources\" AS \"api2\"
        WHERE EXISTS (
            SELECT 1
            FROM \"ApiScopes\" AS \"x2\"
            WHERE \"x2\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api2\".\"Id\" = \"x2\".\"ApiResourceId\"))
    ) AS \"t1\" ON \"api.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"api.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:21.734 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"api.UserClaims\".\"Id\", \"api.UserClaims\".\"ApiResourceId\", \"api.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"api.UserClaims\"
INNER JOIN (
    SELECT \"api3\".\"Id\"
    FROM \"ApiResources\" AS \"api3\"
    WHERE EXISTS (
        SELECT 1
        FROM \"ApiScopes\" AS \"x3\"
        WHERE \"x3\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api') AND (\"api3\".\"Id\" = \"x3\".\"ApiResourceId\"))
) AS \"t3\" ON \"api.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:21.734 -03:00 [INFO] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint ValidatedAuthorizeRequest
"{
  \"ClientId\": \"rac_oidc\",
  \"ClientName\": \"OIDC Client for RAC\",
  \"RedirectUri\": \"http://localhost:5000/auth-callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost/rac/auth-callback\",
    \"http://localhost:5000/auth-callback\",
    \"http://localhost/rac/assets/silent-renew.html\",
    \"http://localhost:5000/assets/silent-renew.html\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"code id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"hybrid\",
  \"RequestedScopes\": \"openid profile email authorization_api management_api offline_access\",
  \"State\": \"bad5cefde6c64c7398a364a7a4405863\",
  \"Nonce\": \"5f9d870c684b40af872da755f7f9a055\",
  \"SessionId\": \"ce57b0be9dbba33dbf98bceb25c3198c\",
  \"Raw\": {
    \"client_id\": \"rac_oidc\",
    \"redirect_uri\": \"http://localhost:5000/auth-callback\",
    \"response_type\": \"code id_token token\",
    \"scope\": \"openid profile email authorization_api management_api offline_access\",
    \"state\": \"bad5cefde6c64c7398a364a7a4405863\",
    \"nonce\": \"5f9d870c684b40af872da755f7f9a055\"
  }
}"
2018-06-04 08:34:21.941 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLitePersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:21.953 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:21.954 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__token_Key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Key\", \"x\".\"ClientId\", \"x\".\"CreationTime\", \"x\".\"Data\", \"x\".\"Expiration\", \"x\".\"SubjectId\", \"x\".\"Type\"
FROM \"PersistedGrants\" AS \"x\"
WHERE \"x\".\"Key\" = @__token_Key_0
LIMIT 2"
2018-06-04 08:34:22.013 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:22.023 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("8"ms) [Parameters=["@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"PersistedGrants\" (\"Key\", \"ClientId\", \"CreationTime\", \"Data\", \"Expiration\", \"SubjectId\", \"Type\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
2018-06-04 08:34:22.152 -03:00 [INFO] IdentityServer4.Events.DefaultEventService {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "rac_oidc",
  "ClientName": "OIDC Client for RAC",
  "RedirectUri": "http://localhost:5000/auth-callback",
  "Endpoint": "Authorize",
  "SubjectId": "1",
  "Scopes": "openid profile email authorization_api management_api offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****KJmg"
    },
    {
      "TokenType": "code",
      "TokenValue": "****9de1"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****BOMg"
    }
  ],
  "ActivityId": "0HLEA1SA08I3G:00000006",
  "TimeStamp": "2018-06-04T11:34:22Z",
  "ProcessId": 9896,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-06-04 08:34:22.157 -03:00 [INFO] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Authorize endpoint response
"{
  \"SubjectId\": \"1\",
  \"ClientId\": \"rac_oidc\",
  \"RedirectUri\": \"http://localhost:5000/auth-callback\",
  \"State\": \"bad5cefde6c64c7398a364a7a4405863\",
  \"Scope\": \"openid profile email authorization_api management_api offline_access\"
}"
2018-06-04 08:34:22.174 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" signed in.
2018-06-04 08:34:22.177 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 516.2753ms 302 
2018-06-04 08:34:22.182 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/auth-callback  
2018-06-04 08:34:22.184 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.184 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.214 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/index.html"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\index.html"'
2018-06-04 08:34:22.216 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 33.8431ms 200 text/html
2018-06-04 08:34:22.234 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/styles.bundle.css  
2018-06-04 08:34:22.234 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/inline.bundle.js  
2018-06-04 08:34:22.235 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.235 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.235 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/styles.bundle.css"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\styles.bundle.css"'
2018-06-04 08:34:22.235 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.235 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.235 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/polyfills.bundle.js  
2018-06-04 08:34:22.235 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/inline.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\inline.bundle.js"'
2018-06-04 08:34:22.235 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/scripts.bundle.js  
2018-06-04 08:34:22.236 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.236 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.236 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.236 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.236 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/polyfills.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\polyfills.bundle.js"'
2018-06-04 08:34:22.236 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/scripts.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\scripts.bundle.js"'
2018-06-04 08:34:22.236 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/vendor.bundle.js  
2018-06-04 08:34:22.237 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/main.bundle.js  
2018-06-04 08:34:22.237 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.237 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.237 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.237 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.238 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/vendor.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\vendor.bundle.js"'
2018-06-04 08:34:22.238 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/main.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\main.bundle.js"'
2018-06-04 08:34:22.243 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 9.7149ms 200 text/css
2018-06-04 08:34:22.254 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 19.6308ms 200 application/javascript
2018-06-04 08:34:22.255 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 20.0011ms 200 application/javascript
2018-06-04 08:34:22.256 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 18.9267ms 200 application/javascript
2018-06-04 08:34:22.257 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 21.9221ms 200 application/javascript
2018-06-04 08:34:22.347 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/inline.bundle.js.map  
2018-06-04 08:34:22.349 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.349 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.350 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/inline.bundle.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\inline.bundle.js.map"'
2018-06-04 08:34:22.353 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/NunitoSans-Regular.fb98ed1700e8dfaf0764.ttf  
2018-06-04 08:34:22.353 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:22.354 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 6.9874ms 200 text/plain
2018-06-04 08:34:22.356 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.356 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.357 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/NunitoSans-Regular.fb98ed1700e8dfaf0764.ttf"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\NunitoSans-Regular.fb98ed1700e8dfaf0764.ttf"'
2018-06-04 08:34:22.359 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 6.0681ms 200 application/x-font-ttf
2018-06-04 08:34:22.387 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/styles.bundle.css.map  
2018-06-04 08:34:22.388 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.388 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.389 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/styles.bundle.css.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\styles.bundle.css.map"'
2018-06-04 08:34:22.408 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 20.5466ms 200 text/plain
2018-06-04 08:34:22.475 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/polyfills.bundle.js.map  
2018-06-04 08:34:22.476 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.476 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.476 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/polyfills.bundle.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\polyfills.bundle.js.map"'
2018-06-04 08:34:22.485 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/scripts.bundle.js.map  
2018-06-04 08:34:22.486 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.486 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:22.487 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/scripts.bundle.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\scripts.bundle.js.map"'
2018-06-04 08:34:22.506 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 30.7838ms 200 text/plain
2018-06-04 08:34:22.566 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 81.6421ms 200 text/plain
2018-06-04 08:34:22.631 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 393.9292ms 200 application/javascript
2018-06-04 08:34:24.907 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/vendor.bundle.js.map  
2018-06-04 08:34:24.908 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/main.bundle.js.map  
2018-06-04 08:34:24.908 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:24.908 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:24.908 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/vendor.bundle.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\vendor.bundle.js.map"'
2018-06-04 08:34:24.908 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:24.908 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:24.909 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/main.bundle.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\main.bundle.js.map"'
2018-06-04 08:34:24.926 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 17.7775ms 200 text/plain
2018-06-04 08:34:25.049 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:25.050 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.050 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.051 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:25.053 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:25.055 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.057 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:25.058 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.061 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:25.062 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.063 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.063 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.063 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:25.063 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:25.063 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:25.064 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.064 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:25.064 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.064 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:25.064 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:25.065 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:25.065 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 16.0807ms 200 application/json; charset=UTF-8
2018-06-04 08:34:25.066 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.068 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.070 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:25.070 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.070 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:25.071 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:25.071 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:25.072 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 10.8881ms 200 application/json; charset=UTF-8
2018-06-04 08:34:25.098 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 POST http://localhost:5000/api/Permissions application/json 83
2018-06-04 08:34:25.098 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:25.099 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.099 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.110 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/assets/images/totvs-avatar-default.svg  
2018-06-04 08:34:25.111 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.111 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.112 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/assets/images/totvs-avatar-default.svg"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\assets\images\totvs-avatar-default.svg"'
2018-06-04 08:34:25.112 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 1.7525ms 200 image/svg+xml
2018-06-04 08:34:25.198 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-06-04 08:34:25.198 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.198 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.199 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-06-04 08:34:25.230 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 32.3504ms 200 application/json; charset=UTF-8
2018-06-04 08:34:25.257 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-06-04 08:34:25.259 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.259 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.263 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2018-06-04 08:34:25.363 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 456.0953ms 200 text/plain
2018-06-04 08:34:25.415 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:25.417 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:25.417 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:25.418 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.421 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:25.421 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.423 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.425 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:25.426 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.428 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:25.429 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:25.429 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:25.430 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 15.1149ms 200 application/json; charset=UTF-8
2018-06-04 08:34:25.448 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:25.450 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.452 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"AbsoluteRefreshTokenLifetime\", \"x\".\"AccessTokenLifetime\", \"x\".\"AccessTokenType\", \"x\".\"AllowAccessTokensViaBrowser\", \"x\".\"AllowOfflineAccess\", \"x\".\"AllowPlainTextPkce\", \"x\".\"AllowRememberConsent\", \"x\".\"AlwaysIncludeUserClaimsInIdToken\", \"x\".\"AlwaysSendClientClaims\", \"x\".\"AuthorizationCodeLifetime\", \"x\".\"BackChannelLogoutSessionRequired\", \"x\".\"BackChannelLogoutUri\", \"x\".\"ClientClaimsPrefix\", \"x\".\"ClientId\", \"x\".\"ClientName\", \"x\".\"ClientUri\", \"x\".\"ConsentLifetime\", \"x\".\"Description\", \"x\".\"EnableLocalLogin\", \"x\".\"Enabled\", \"x\".\"FrontChannelLogoutSessionRequired\", \"x\".\"FrontChannelLogoutUri\", \"x\".\"IdentityTokenLifetime\", \"x\".\"IncludeJwtId\", \"x\".\"LogoUri\", \"x\".\"PairWiseSubjectSalt\", \"x\".\"ProtocolType\", \"x\".\"RefreshTokenExpiration\", \"x\".\"RefreshTokenUsage\", \"x\".\"RequireClientSecret\", \"x\".\"RequireConsent\", \"x\".\"RequirePkce\", \"x\".\"SlidingRefreshTokenLifetime\", \"x\".\"UpdateAccessTokenClaimsOnRefresh\"
FROM \"Clients\" AS \"x\"
WHERE \"x\".\"ClientId\" = @__clientId_0
ORDER BY \"x\".\"Id\"
LIMIT 1"
2018-06-04 08:34:25.453 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedGrantTypes\".\"Id\", \"x.AllowedGrantTypes\".\"ClientId\", \"x.AllowedGrantTypes\".\"GrantType\"
FROM \"ClientGrantTypes\" AS \"x.AllowedGrantTypes\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"Clients\" AS \"x0\"
    WHERE \"x0\".\"ClientId\" = @__clientId_0
    ORDER BY \"x0\".\"Id\"
    LIMIT 1
) AS \"t\" ON \"x.AllowedGrantTypes\".\"ClientId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.453 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.RedirectUris\".\"Id\", \"x.RedirectUris\".\"ClientId\", \"x.RedirectUris\".\"RedirectUri\"
FROM \"ClientRedirectUris\" AS \"x.RedirectUris\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"Clients\" AS \"x1\"
    WHERE \"x1\".\"ClientId\" = @__clientId_0
    ORDER BY \"x1\".\"Id\"
    LIMIT 1
) AS \"t0\" ON \"x.RedirectUris\".\"ClientId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\""
2018-06-04 08:34:25.453 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.PostLogoutRedirectUris\".\"Id\", \"x.PostLogoutRedirectUris\".\"ClientId\", \"x.PostLogoutRedirectUris\".\"PostLogoutRedirectUri\"
FROM \"ClientPostLogoutRedirectUris\" AS \"x.PostLogoutRedirectUris\"
INNER JOIN (
    SELECT \"x2\".\"Id\"
    FROM \"Clients\" AS \"x2\"
    WHERE \"x2\".\"ClientId\" = @__clientId_0
    ORDER BY \"x2\".\"Id\"
    LIMIT 1
) AS \"t1\" ON \"x.PostLogoutRedirectUris\".\"ClientId\" = \"t1\".\"Id\"
ORDER BY \"t1\".\"Id\""
2018-06-04 08:34:25.454 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedScopes\".\"Id\", \"x.AllowedScopes\".\"ClientId\", \"x.AllowedScopes\".\"Scope\"
FROM \"ClientScopes\" AS \"x.AllowedScopes\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"Clients\" AS \"x3\"
    WHERE \"x3\".\"ClientId\" = @__clientId_0
    ORDER BY \"x3\".\"Id\"
    LIMIT 1
) AS \"t2\" ON \"x.AllowedScopes\".\"ClientId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id\""
2018-06-04 08:34:25.454 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.ClientSecrets\".\"Id\", \"x.ClientSecrets\".\"ClientId\", \"x.ClientSecrets\".\"Description\", \"x.ClientSecrets\".\"Expiration\", \"x.ClientSecrets\".\"Type\", \"x.ClientSecrets\".\"Value\"
FROM \"ClientSecrets\" AS \"x.ClientSecrets\"
INNER JOIN (
    SELECT \"x4\".\"Id\"
    FROM \"Clients\" AS \"x4\"
    WHERE \"x4\".\"ClientId\" = @__clientId_0
    ORDER BY \"x4\".\"Id\"
    LIMIT 1
) AS \"t3\" ON \"x.ClientSecrets\".\"ClientId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:25.454 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Claims\".\"Id\", \"x.Claims\".\"ClientId\", \"x.Claims\".\"Type\", \"x.Claims\".\"Value\"
FROM \"ClientClaims\" AS \"x.Claims\"
INNER JOIN (
    SELECT \"x5\".\"Id\"
    FROM \"Clients\" AS \"x5\"
    WHERE \"x5\".\"ClientId\" = @__clientId_0
    ORDER BY \"x5\".\"Id\"
    LIMIT 1
) AS \"t4\" ON \"x.Claims\".\"ClientId\" = \"t4\".\"Id\"
ORDER BY \"t4\".\"Id\""
2018-06-04 08:34:25.455 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.IdentityProviderRestrictions\".\"Id\", \"x.IdentityProviderRestrictions\".\"ClientId\", \"x.IdentityProviderRestrictions\".\"Provider\"
FROM \"ClientIdPRestrictions\" AS \"x.IdentityProviderRestrictions\"
INNER JOIN (
    SELECT \"x6\".\"Id\"
    FROM \"Clients\" AS \"x6\"
    WHERE \"x6\".\"ClientId\" = @__clientId_0
    ORDER BY \"x6\".\"Id\"
    LIMIT 1
) AS \"t5\" ON \"x.IdentityProviderRestrictions\".\"ClientId\" = \"t5\".\"Id\"
ORDER BY \"t5\".\"Id\""
2018-06-04 08:34:25.455 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedCorsOrigins\".\"Id\", \"x.AllowedCorsOrigins\".\"ClientId\", \"x.AllowedCorsOrigins\".\"Origin\"
FROM \"ClientCorsOrigins\" AS \"x.AllowedCorsOrigins\"
INNER JOIN (
    SELECT \"x7\".\"Id\"
    FROM \"Clients\" AS \"x7\"
    WHERE \"x7\".\"ClientId\" = @__clientId_0
    ORDER BY \"x7\".\"Id\"
    LIMIT 1
) AS \"t6\" ON \"x.AllowedCorsOrigins\".\"ClientId\" = \"t6\".\"Id\"
ORDER BY \"t6\".\"Id\""
2018-06-04 08:34:25.455 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Properties\".\"Id\", \"x.Properties\".\"ClientId\", \"x.Properties\".\"Key\", \"x.Properties\".\"Value\"
FROM \"ClientProperties\" AS \"x.Properties\"
INNER JOIN (
    SELECT \"x8\".\"Id\"
    FROM \"Clients\" AS \"x8\"
    WHERE \"x8\".\"ClientId\" = @__clientId_0
    ORDER BY \"x8\".\"Id\"
    LIMIT 1
) AS \"t7\" ON \"x.Properties\".\"ClientId\" = \"t7\".\"Id\"
ORDER BY \"t7\".\"Id\""
2018-06-04 08:34:25.460 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.462 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"AbsoluteRefreshTokenLifetime\", \"x\".\"AccessTokenLifetime\", \"x\".\"AccessTokenType\", \"x\".\"AllowAccessTokensViaBrowser\", \"x\".\"AllowOfflineAccess\", \"x\".\"AllowPlainTextPkce\", \"x\".\"AllowRememberConsent\", \"x\".\"AlwaysIncludeUserClaimsInIdToken\", \"x\".\"AlwaysSendClientClaims\", \"x\".\"AuthorizationCodeLifetime\", \"x\".\"BackChannelLogoutSessionRequired\", \"x\".\"BackChannelLogoutUri\", \"x\".\"ClientClaimsPrefix\", \"x\".\"ClientId\", \"x\".\"ClientName\", \"x\".\"ClientUri\", \"x\".\"ConsentLifetime\", \"x\".\"Description\", \"x\".\"EnableLocalLogin\", \"x\".\"Enabled\", \"x\".\"FrontChannelLogoutSessionRequired\", \"x\".\"FrontChannelLogoutUri\", \"x\".\"IdentityTokenLifetime\", \"x\".\"IncludeJwtId\", \"x\".\"LogoUri\", \"x\".\"PairWiseSubjectSalt\", \"x\".\"ProtocolType\", \"x\".\"RefreshTokenExpiration\", \"x\".\"RefreshTokenUsage\", \"x\".\"RequireClientSecret\", \"x\".\"RequireConsent\", \"x\".\"RequirePkce\", \"x\".\"SlidingRefreshTokenLifetime\", \"x\".\"UpdateAccessTokenClaimsOnRefresh\"
FROM \"Clients\" AS \"x\"
WHERE \"x\".\"ClientId\" = @__clientId_0
ORDER BY \"x\".\"Id\"
LIMIT 1"
2018-06-04 08:34:25.462 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedGrantTypes\".\"Id\", \"x.AllowedGrantTypes\".\"ClientId\", \"x.AllowedGrantTypes\".\"GrantType\"
FROM \"ClientGrantTypes\" AS \"x.AllowedGrantTypes\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"Clients\" AS \"x0\"
    WHERE \"x0\".\"ClientId\" = @__clientId_0
    ORDER BY \"x0\".\"Id\"
    LIMIT 1
) AS \"t\" ON \"x.AllowedGrantTypes\".\"ClientId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.463 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.RedirectUris\".\"Id\", \"x.RedirectUris\".\"ClientId\", \"x.RedirectUris\".\"RedirectUri\"
FROM \"ClientRedirectUris\" AS \"x.RedirectUris\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"Clients\" AS \"x1\"
    WHERE \"x1\".\"ClientId\" = @__clientId_0
    ORDER BY \"x1\".\"Id\"
    LIMIT 1
) AS \"t0\" ON \"x.RedirectUris\".\"ClientId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\""
2018-06-04 08:34:25.463 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.PostLogoutRedirectUris\".\"Id\", \"x.PostLogoutRedirectUris\".\"ClientId\", \"x.PostLogoutRedirectUris\".\"PostLogoutRedirectUri\"
FROM \"ClientPostLogoutRedirectUris\" AS \"x.PostLogoutRedirectUris\"
INNER JOIN (
    SELECT \"x2\".\"Id\"
    FROM \"Clients\" AS \"x2\"
    WHERE \"x2\".\"ClientId\" = @__clientId_0
    ORDER BY \"x2\".\"Id\"
    LIMIT 1
) AS \"t1\" ON \"x.PostLogoutRedirectUris\".\"ClientId\" = \"t1\".\"Id\"
ORDER BY \"t1\".\"Id\""
2018-06-04 08:34:25.463 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedScopes\".\"Id\", \"x.AllowedScopes\".\"ClientId\", \"x.AllowedScopes\".\"Scope\"
FROM \"ClientScopes\" AS \"x.AllowedScopes\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"Clients\" AS \"x3\"
    WHERE \"x3\".\"ClientId\" = @__clientId_0
    ORDER BY \"x3\".\"Id\"
    LIMIT 1
) AS \"t2\" ON \"x.AllowedScopes\".\"ClientId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id\""
2018-06-04 08:34:25.463 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.ClientSecrets\".\"Id\", \"x.ClientSecrets\".\"ClientId\", \"x.ClientSecrets\".\"Description\", \"x.ClientSecrets\".\"Expiration\", \"x.ClientSecrets\".\"Type\", \"x.ClientSecrets\".\"Value\"
FROM \"ClientSecrets\" AS \"x.ClientSecrets\"
INNER JOIN (
    SELECT \"x4\".\"Id\"
    FROM \"Clients\" AS \"x4\"
    WHERE \"x4\".\"ClientId\" = @__clientId_0
    ORDER BY \"x4\".\"Id\"
    LIMIT 1
) AS \"t3\" ON \"x.ClientSecrets\".\"ClientId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:25.463 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Claims\".\"Id\", \"x.Claims\".\"ClientId\", \"x.Claims\".\"Type\", \"x.Claims\".\"Value\"
FROM \"ClientClaims\" AS \"x.Claims\"
INNER JOIN (
    SELECT \"x5\".\"Id\"
    FROM \"Clients\" AS \"x5\"
    WHERE \"x5\".\"ClientId\" = @__clientId_0
    ORDER BY \"x5\".\"Id\"
    LIMIT 1
) AS \"t4\" ON \"x.Claims\".\"ClientId\" = \"t4\".\"Id\"
ORDER BY \"t4\".\"Id\""
2018-06-04 08:34:25.464 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.IdentityProviderRestrictions\".\"Id\", \"x.IdentityProviderRestrictions\".\"ClientId\", \"x.IdentityProviderRestrictions\".\"Provider\"
FROM \"ClientIdPRestrictions\" AS \"x.IdentityProviderRestrictions\"
INNER JOIN (
    SELECT \"x6\".\"Id\"
    FROM \"Clients\" AS \"x6\"
    WHERE \"x6\".\"ClientId\" = @__clientId_0
    ORDER BY \"x6\".\"Id\"
    LIMIT 1
) AS \"t5\" ON \"x.IdentityProviderRestrictions\".\"ClientId\" = \"t5\".\"Id\"
ORDER BY \"t5\".\"Id\""
2018-06-04 08:34:25.464 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedCorsOrigins\".\"Id\", \"x.AllowedCorsOrigins\".\"ClientId\", \"x.AllowedCorsOrigins\".\"Origin\"
FROM \"ClientCorsOrigins\" AS \"x.AllowedCorsOrigins\"
INNER JOIN (
    SELECT \"x7\".\"Id\"
    FROM \"Clients\" AS \"x7\"
    WHERE \"x7\".\"ClientId\" = @__clientId_0
    ORDER BY \"x7\".\"Id\"
    LIMIT 1
) AS \"t6\" ON \"x.AllowedCorsOrigins\".\"ClientId\" = \"t6\".\"Id\"
ORDER BY \"t6\".\"Id\""
2018-06-04 08:34:25.464 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Properties\".\"Id\", \"x.Properties\".\"ClientId\", \"x.Properties\".\"Key\", \"x.Properties\".\"Value\"
FROM \"ClientProperties\" AS \"x.Properties\"
INNER JOIN (
    SELECT \"x8\".\"Id\"
    FROM \"Clients\" AS \"x8\"
    WHERE \"x8\".\"ClientId\" = @__clientId_0
    ORDER BY \"x8\".\"Id\"
    LIMIT 1
) AS \"t7\" ON \"x.Properties\".\"ClientId\" = \"t7\".\"Id\"
ORDER BY \"t7\".\"Id\""
2018-06-04 08:34:25.468 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession  
2018-06-04 08:34:25.469 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.470 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.470 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2018-06-04 08:34:25.471 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 2.8762ms 200 text/html; charset=UTF-8
2018-06-04 08:34:25.503 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.505 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource\".\"Id\", \"identityResource\".\"Description\", \"identityResource\".\"DisplayName\", \"identityResource\".\"Emphasize\", \"identityResource\".\"Enabled\", \"identityResource\".\"Name\", \"identityResource\".\"Required\", \"identityResource\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"identityResource\"
WHERE \"identityResource\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api', 'offline_access')
ORDER BY \"identityResource\".\"Id\""
2018-06-04 08:34:25.506 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource.UserClaims\".\"Id\", \"identityResource.UserClaims\".\"IdentityResourceId\", \"identityResource.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"identityResource.UserClaims\"
INNER JOIN (
    SELECT \"identityResource0\".\"Id\"
    FROM \"IdentityResources\" AS \"identityResource0\"
    WHERE \"identityResource0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api', 'offline_access')
) AS \"t\" ON \"identityResource.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.508 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.510 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource\".\"Id\", \"identityResource\".\"Description\", \"identityResource\".\"DisplayName\", \"identityResource\".\"Emphasize\", \"identityResource\".\"Enabled\", \"identityResource\".\"Name\", \"identityResource\".\"Required\", \"identityResource\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"identityResource\"
WHERE \"identityResource\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api', 'offline_access')
ORDER BY \"identityResource\".\"Id\""
2018-06-04 08:34:25.510 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"identityResource.UserClaims\".\"Id\", \"identityResource.UserClaims\".\"IdentityResourceId\", \"identityResource.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"identityResource.UserClaims\"
INNER JOIN (
    SELECT \"identityResource0\".\"Id\"
    FROM \"IdentityResources\" AS \"identityResource0\"
    WHERE \"identityResource0\".\"Name\" IN ('openid', 'profile', 'email', 'authorization_api', 'management_api', 'offline_access')
) AS \"t\" ON \"identityResource.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.512 -03:00 [INFO] IdentityServer4.ResponseHandling.UserInfoResponseGenerator Profile service returned to the following claim types: "sub preferred_username name email email_verified"
2018-06-04 08:34:25.515 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 257.7827ms 200 application/json; charset=UTF-8
2018-06-04 08:34:25.532 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-06-04 08:34:25.533 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
2018-06-04 08:34:25.533 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 1.281ms 200 application/json; charset=UTF-8
2018-06-04 08:34:25.579 -03:00 [INFO] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler Failed to validate the token "eyJhbGciOiJSUzI1NiIsImtpZCI6IjFkZWMyNTQ1NWIxMDc1YTgxZmJkNWNhMmYxYTlkMzZlIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1Mjc4OTQwMTgsImV4cCI6MTUyNzg5NDEzOCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhdXRob3JpemF0aW9uX2FwaSIsIm1hbmFnZW1lbnRfYXBpIl0sImNsaWVudF9pZCI6InJhY19vaWRjIiwic3ViIjoiMSIsImF1dGhfdGltZSI6MTUyNzg5NDAxOCwiaWRwIjoibG9jYWwiLCJodHRwOi8vd3d3LnRuZi5jb20vaWRlbnRpdHkvY2xhaW1zL3VzZXJGdWxsbmFtZSI6ImFkbWluIGFkbWluIiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSIsImVtYWlsIiwiYXV0aG9yaXphdGlvbl9hcGkiLCJtYW5hZ2VtZW50X2FwaSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.E12ugDm3nNGp7PKHYo5QQnpfh_CQ8hBuwSJMlp_RrDMmbgQknuDTzfnmc0DUg0OnUqdPjbSJxaJfhcSTTV6G9_S7wldEh-twawKom2vx6WZgKzn1pCAxVfVi-qr6hy5Unbus5Gj27-D6epvdIRi6osbZsKZvXlKpG54pjjX_Msfyx9KOsib_WuYHKIGUa81_LtB8kB50rer8vqssZdlFlFU6SGZ2Y_fMs1aKERSC691wR5BNATVddd92DoOGZ69BveFK5SAGD_o5gtYy5b9Ch6eTBEpGxfn-xs523Lp16d6wqRbIZL85NGMQvshxLdhNB5yo5kb_5T07sNLzPXxaxA".
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10501: Signature validation failed. Unable to match keys: '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]', 
token: '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.<HandleAuthenticateAsync>d__6.MoveNext()
2018-06-04 08:34:25.583 -03:00 [INFO] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler "BearerIdentityServerAuthenticationJwt" was not authenticated. Failure message: "IDX10501: Signature validation failed. Unable to match keys: '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]', 
token: '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]'."
2018-06-04 08:34:25.584 -03:00 [INFO] IdentityServer4.AccessTokenValidation.IdentityServerAuthenticationHandler "Bearer" was not authenticated. Failure message: "IDX10501: Signature validation failed. Unable to match keys: '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]', 
token: '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]'."
2018-06-04 08:34:25.637 -03:00 [INFO] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService Authorization failed for user: null.
2018-06-04 08:34:25.638 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
2018-06-04 08:34:25.646 -03:00 [INFO] Microsoft.AspNetCore.Mvc.ChallengeResult Executing ChallengeResult with authentication schemes (["Bearer"]).
2018-06-04 08:34:25.671 -03:00 [INFO] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was challenged.
2018-06-04 08:34:25.671 -03:00 [INFO] IdentityServer4.AccessTokenValidation.IdentityServerAuthenticationHandler AuthenticationScheme: "Bearer" was challenged.
2018-06-04 08:34:25.672 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executed action "Tnf.Rac.Host.Controllers.PermissionsController.GetGrantedByPermissions (Tnf.Rac.Host)" in 553.1936ms
2018-06-04 08:34:25.672 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 574.272ms 401 
2018-06-04 08:34:25.876 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=rac_oidc&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fassets%2Fsilent-renew.html&response_type=id_token&scope=openid&state=385ebcdcc8fe44fc9909d88c78c752bd&nonce=b0daa0c0c5e84a26a3bfedda060470a5&prompt=none  
2018-06-04 08:34:25.877 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.877 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.878 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2018-06-04 08:34:25.878 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:25.881 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:25.887 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"AbsoluteRefreshTokenLifetime\", \"x\".\"AccessTokenLifetime\", \"x\".\"AccessTokenType\", \"x\".\"AllowAccessTokensViaBrowser\", \"x\".\"AllowOfflineAccess\", \"x\".\"AllowPlainTextPkce\", \"x\".\"AllowRememberConsent\", \"x\".\"AlwaysIncludeUserClaimsInIdToken\", \"x\".\"AlwaysSendClientClaims\", \"x\".\"AuthorizationCodeLifetime\", \"x\".\"BackChannelLogoutSessionRequired\", \"x\".\"BackChannelLogoutUri\", \"x\".\"ClientClaimsPrefix\", \"x\".\"ClientId\", \"x\".\"ClientName\", \"x\".\"ClientUri\", \"x\".\"ConsentLifetime\", \"x\".\"Description\", \"x\".\"EnableLocalLogin\", \"x\".\"Enabled\", \"x\".\"FrontChannelLogoutSessionRequired\", \"x\".\"FrontChannelLogoutUri\", \"x\".\"IdentityTokenLifetime\", \"x\".\"IncludeJwtId\", \"x\".\"LogoUri\", \"x\".\"PairWiseSubjectSalt\", \"x\".\"ProtocolType\", \"x\".\"RefreshTokenExpiration\", \"x\".\"RefreshTokenUsage\", \"x\".\"RequireClientSecret\", \"x\".\"RequireConsent\", \"x\".\"RequirePkce\", \"x\".\"SlidingRefreshTokenLifetime\", \"x\".\"UpdateAccessTokenClaimsOnRefresh\"
FROM \"Clients\" AS \"x\"
WHERE \"x\".\"ClientId\" = @__clientId_0
ORDER BY \"x\".\"Id\"
LIMIT 1"
2018-06-04 08:34:25.888 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedGrantTypes\".\"Id\", \"x.AllowedGrantTypes\".\"ClientId\", \"x.AllowedGrantTypes\".\"GrantType\"
FROM \"ClientGrantTypes\" AS \"x.AllowedGrantTypes\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"Clients\" AS \"x0\"
    WHERE \"x0\".\"ClientId\" = @__clientId_0
    ORDER BY \"x0\".\"Id\"
    LIMIT 1
) AS \"t\" ON \"x.AllowedGrantTypes\".\"ClientId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:25.888 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.RedirectUris\".\"Id\", \"x.RedirectUris\".\"ClientId\", \"x.RedirectUris\".\"RedirectUri\"
FROM \"ClientRedirectUris\" AS \"x.RedirectUris\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"Clients\" AS \"x1\"
    WHERE \"x1\".\"ClientId\" = @__clientId_0
    ORDER BY \"x1\".\"Id\"
    LIMIT 1
) AS \"t0\" ON \"x.RedirectUris\".\"ClientId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\""
2018-06-04 08:34:25.889 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.PostLogoutRedirectUris\".\"Id\", \"x.PostLogoutRedirectUris\".\"ClientId\", \"x.PostLogoutRedirectUris\".\"PostLogoutRedirectUri\"
FROM \"ClientPostLogoutRedirectUris\" AS \"x.PostLogoutRedirectUris\"
INNER JOIN (
    SELECT \"x2\".\"Id\"
    FROM \"Clients\" AS \"x2\"
    WHERE \"x2\".\"ClientId\" = @__clientId_0
    ORDER BY \"x2\".\"Id\"
    LIMIT 1
) AS \"t1\" ON \"x.PostLogoutRedirectUris\".\"ClientId\" = \"t1\".\"Id\"
ORDER BY \"t1\".\"Id\""
2018-06-04 08:34:25.889 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedScopes\".\"Id\", \"x.AllowedScopes\".\"ClientId\", \"x.AllowedScopes\".\"Scope\"
FROM \"ClientScopes\" AS \"x.AllowedScopes\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"Clients\" AS \"x3\"
    WHERE \"x3\".\"ClientId\" = @__clientId_0
    ORDER BY \"x3\".\"Id\"
    LIMIT 1
) AS \"t2\" ON \"x.AllowedScopes\".\"ClientId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id\""
2018-06-04 08:34:25.889 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.ClientSecrets\".\"Id\", \"x.ClientSecrets\".\"ClientId\", \"x.ClientSecrets\".\"Description\", \"x.ClientSecrets\".\"Expiration\", \"x.ClientSecrets\".\"Type\", \"x.ClientSecrets\".\"Value\"
FROM \"ClientSecrets\" AS \"x.ClientSecrets\"
INNER JOIN (
    SELECT \"x4\".\"Id\"
    FROM \"Clients\" AS \"x4\"
    WHERE \"x4\".\"ClientId\" = @__clientId_0
    ORDER BY \"x4\".\"Id\"
    LIMIT 1
) AS \"t3\" ON \"x.ClientSecrets\".\"ClientId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:25.889 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Claims\".\"Id\", \"x.Claims\".\"ClientId\", \"x.Claims\".\"Type\", \"x.Claims\".\"Value\"
FROM \"ClientClaims\" AS \"x.Claims\"
INNER JOIN (
    SELECT \"x5\".\"Id\"
    FROM \"Clients\" AS \"x5\"
    WHERE \"x5\".\"ClientId\" = @__clientId_0
    ORDER BY \"x5\".\"Id\"
    LIMIT 1
) AS \"t4\" ON \"x.Claims\".\"ClientId\" = \"t4\".\"Id\"
ORDER BY \"t4\".\"Id\""
2018-06-04 08:34:25.890 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.IdentityProviderRestrictions\".\"Id\", \"x.IdentityProviderRestrictions\".\"ClientId\", \"x.IdentityProviderRestrictions\".\"Provider\"
FROM \"ClientIdPRestrictions\" AS \"x.IdentityProviderRestrictions\"
INNER JOIN (
    SELECT \"x6\".\"Id\"
    FROM \"Clients\" AS \"x6\"
    WHERE \"x6\".\"ClientId\" = @__clientId_0
    ORDER BY \"x6\".\"Id\"
    LIMIT 1
) AS \"t5\" ON \"x.IdentityProviderRestrictions\".\"ClientId\" = \"t5\".\"Id\"
ORDER BY \"t5\".\"Id\""
2018-06-04 08:34:25.890 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.AllowedCorsOrigins\".\"Id\", \"x.AllowedCorsOrigins\".\"ClientId\", \"x.AllowedCorsOrigins\".\"Origin\"
FROM \"ClientCorsOrigins\" AS \"x.AllowedCorsOrigins\"
INNER JOIN (
    SELECT \"x7\".\"Id\"
    FROM \"Clients\" AS \"x7\"
    WHERE \"x7\".\"ClientId\" = @__clientId_0
    ORDER BY \"x7\".\"Id\"
    LIMIT 1
) AS \"t6\" ON \"x.AllowedCorsOrigins\".\"ClientId\" = \"t6\".\"Id\"
ORDER BY \"t6\".\"Id\""
2018-06-04 08:34:25.890 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Properties\".\"Id\", \"x.Properties\".\"ClientId\", \"x.Properties\".\"Key\", \"x.Properties\".\"Value\"
FROM \"ClientProperties\" AS \"x.Properties\"
INNER JOIN (
    SELECT \"x8\".\"Id\"
    FROM \"Clients\" AS \"x8\"
    WHERE \"x8\".\"ClientId\" = @__clientId_0
    ORDER BY \"x8\".\"Id\"
    LIMIT 1
) AS \"t7\" ON \"x.Properties\".\"ClientId\" = \"t7\".\"Id\"
ORDER BY \"t7\".\"Id\""
2018-06-04 08:34:25.891 -03:00 [EROR] IdentityServer4.Validation.AuthorizeRequestValidator Invalid grant type for client: "implicit"
"{
  \"ClientId\": \"rac_oidc\",
  \"ClientName\": \"OIDC Client for RAC\",
  \"RedirectUri\": \"http://localhost:5000/assets/silent-renew.html\",
  \"AllowedRedirectUris\": [
    \"http://localhost/rac/auth-callback\",
    \"http://localhost:5000/auth-callback\",
    \"http://localhost/rac/assets/silent-renew.html\",
    \"http://localhost:5000/assets/silent-renew.html\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"id_token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"\",
  \"State\": \"385ebcdcc8fe44fc9909d88c78c752bd\",
  \"Raw\": {
    \"client_id\": \"rac_oidc\",
    \"redirect_uri\": \"http://localhost:5000/assets/silent-renew.html\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"385ebcdcc8fe44fc9909d88c78c752bd\",
    \"nonce\": \"b0daa0c0c5e84a26a3bfedda060470a5\",
    \"prompt\": \"none\"
  }
}"
2018-06-04 08:34:25.891 -03:00 [EROR] IdentityServer4.Endpoints.AuthorizeEndpoint Request validation failed
2018-06-04 08:34:25.891 -03:00 [INFO] IdentityServer4.Endpoints.AuthorizeEndpoint "{
  \"ClientId\": \"rac_oidc\",
  \"ClientName\": \"OIDC Client for RAC\",
  \"RedirectUri\": \"http://localhost:5000/assets/silent-renew.html\",
  \"AllowedRedirectUris\": [
    \"http://localhost/rac/auth-callback\",
    \"http://localhost:5000/auth-callback\",
    \"http://localhost/rac/assets/silent-renew.html\",
    \"http://localhost:5000/assets/silent-renew.html\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"id_token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"\",
  \"State\": \"385ebcdcc8fe44fc9909d88c78c752bd\",
  \"Raw\": {
    \"client_id\": \"rac_oidc\",
    \"redirect_uri\": \"http://localhost:5000/assets/silent-renew.html\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"385ebcdcc8fe44fc9909d88c78c752bd\",
    \"nonce\": \"b0daa0c0c5e84a26a3bfedda060470a5\",
    \"prompt\": \"none\"
  }
}"
2018-06-04 08:34:25.891 -03:00 [INFO] IdentityServer4.Events.DefaultEventService {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "rac_oidc",
  "ClientName": "OIDC Client for RAC",
  "RedirectUri": "http://localhost:5000/assets/silent-renew.html",
  "Endpoint": "Authorize",
  "SubjectId": "1",
  "Scopes": "",
  "GrantType": "implicit",
  "Error": "unauthorized_client",
  "ActivityId": "0HLEA1SA08I3K:00000009",
  "TimeStamp": "2018-06-04T11:34:25Z",
  "ProcessId": 9896,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-06-04 08:34:25.892 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 15.6512ms 302 
2018-06-04 08:34:25.896 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8JsPHXq4pSBEqnKUROzUoPrYlzQYBXUq5kUyYZ7bgrHhkzk_1Jju_ww6nSy2QQkdI3dafTddVASea9Az0c644vY-JfoXCzalH4_3v4Qb3dWIBET18qaDRYNByl_8DAA3_bC3LwcG2BlTL4s4e4ZRY0K8rMFTw_jahRqr586emtyEyo54fB96uX-2cB8PcWeZayb1rGqMqseMPOPTAOo9lRZJxiXR5cfIVRBpmkmK1EOT5dDhh4M64K2TK65nolFcaVrCeKh-0FzVgocx1DbX6rfKieD-I3yY1_xXxA3sgMAsjuTSbYkjR63hHOnJAb8vyLbfExIE17eXf-SP_sd3JsaQDnQ73uIRdMS6wUSG3OyawrYTK08g2RlNm60WiUZXllpd007HUanEuM1jiCSnnnpKzLi9utasbWUlb8kwB58iCQJ-vOmrgAathQwSrUq7hw4dTVBsUZi8yek6b0rFsxM  
2018-06-04 08:34:25.899 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.899 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:25.899 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/index.html"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\index.html"'
2018-06-04 08:34:25.900 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 4.2754ms 200 text/html
2018-06-04 08:34:29.934 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/assets/images/totvs-avatar-default.svg  
2018-06-04 08:34:29.935 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:29.935 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:29.936 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file "/assets/images/totvs-avatar-default.svg" was not modified
2018-06-04 08:34:29.936 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 1.2253ms 304 image/svg+xml
2018-06-04 08:34:30.034 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:30.035 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:30.035 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:30.036 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:30.036 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:30.037 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:30.039 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:30.039 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:30.041 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:30.042 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:30.043 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:30.043 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:30.045 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:30.046 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:30.049 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 14.258ms 200 application/json; charset=UTF-8
2018-06-04 08:34:30.071 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 POST http://localhost:5000/api/Permissions application/json 83
2018-06-04 08:34:30.072 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:30.072 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:30.072 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:30.075 -03:00 [INFO] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler Successfully validated the token.
2018-06-04 08:34:30.086 -03:00 [INFO] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was successfully authenticated.
2018-06-04 08:34:30.087 -03:00 [INFO] IdentityServer4.AccessTokenValidation.IdentityServerAuthenticationHandler AuthenticationScheme: "Bearer" was successfully authenticated.
2018-06-04 08:34:30.089 -03:00 [INFO] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService Authorization was successful for user: "1".
2018-06-04 08:34:30.125 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession  
2018-06-04 08:34:30.132 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:30.133 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:30.133 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2018-06-04 08:34:30.133 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 7.7649ms 200 text/html; charset=UTF-8
2018-06-04 08:34:30.212 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executing action method "Tnf.Rac.Host.Controllers.PermissionsController.GetGrantedByPermissions (Tnf.Rac.Host)" with arguments (["System.Collections.Generic.List`1[System.String]"]) - ModelState is Valid
2018-06-04 08:34:30.355 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ObjectResultExecutor Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-06-04 08:34:30.372 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executed action "Tnf.Rac.Host.Controllers.PermissionsController.GetGrantedByPermissions (Tnf.Rac.Host)" in 297.9201ms
2018-06-04 08:34:30.376 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 304.0761ms 200 application/json; charset=utf-8
2018-06-04 08:34:42.443 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/  
2018-06-04 08:34:42.445 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.445 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.445 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/index.html"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\index.html"'
2018-06-04 08:34:42.447 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 3.5374ms 200 text/html
2018-06-04 08:34:42.500 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/styles.bundle.css  
2018-06-04 08:34:42.501 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.501 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.501 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/inline.bundle.js  
2018-06-04 08:34:42.501 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/styles.bundle.css"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\styles.bundle.css"'
2018-06-04 08:34:42.502 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.502 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.502 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/inline.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\inline.bundle.js"'
2018-06-04 08:34:42.502 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/polyfills.bundle.js  
2018-06-04 08:34:42.503 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.503 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.504 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/polyfills.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\polyfills.bundle.js"'
2018-06-04 08:34:42.504 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 2.8939ms 200 application/javascript
2018-06-04 08:34:42.504 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/scripts.bundle.js  
2018-06-04 08:34:42.505 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.505 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.506 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/scripts.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\scripts.bundle.js"'
2018-06-04 08:34:42.506 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/vendor.bundle.js  
2018-06-04 08:34:42.507 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.507 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.507 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/vendor.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\vendor.bundle.js"'
2018-06-04 08:34:42.512 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/main.bundle.js  
2018-06-04 08:34:42.513 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.513 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.513 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/main.bundle.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\main.bundle.js"'
2018-06-04 08:34:42.516 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 4.5134ms 200 application/javascript
2018-06-04 08:34:42.519 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 18.9298ms 200 text/css
2018-06-04 08:34:42.520 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 18.018ms 200 application/javascript
2018-06-04 08:34:42.524 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 19.4172ms 200 application/javascript
2018-06-04 08:34:42.618 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/NunitoSans-Regular.fb98ed1700e8dfaf0764.ttf  
2018-06-04 08:34:42.618 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:42.618 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.618 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.619 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/NunitoSans-Regular.fb98ed1700e8dfaf0764.ttf"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\NunitoSans-Regular.fb98ed1700e8dfaf0764.ttf"'
2018-06-04 08:34:42.619 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 1.8575ms 200 application/x-font-ttf
2018-06-04 08:34:42.624 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/inline.bundle.js.map  
2018-06-04 08:34:42.626 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.626 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.629 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/inline.bundle.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\inline.bundle.js.map"'
2018-06-04 08:34:42.632 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 8.0752ms 200 text/plain
2018-06-04 08:34:42.643 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/styles.bundle.css.map  
2018-06-04 08:34:42.644 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.644 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.645 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/styles.bundle.css.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\styles.bundle.css.map"'
2018-06-04 08:34:42.649 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 6.7705ms 200 text/plain
2018-06-04 08:34:42.712 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/polyfills.bundle.js.map  
2018-06-04 08:34:42.713 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.713 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.714 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/polyfills.bundle.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\polyfills.bundle.js.map"'
2018-06-04 08:34:42.723 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 11.0231ms 200 text/plain
2018-06-04 08:34:42.787 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/scripts.bundle.js.map  
2018-06-04 08:34:42.788 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.788 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:42.788 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/scripts.bundle.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\scripts.bundle.js.map"'
2018-06-04 08:34:42.814 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 27.252ms 200 text/plain
2018-06-04 08:34:42.904 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 397.6469ms 200 application/javascript
2018-06-04 08:34:45.171 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/vendor.bundle.js.map  
2018-06-04 08:34:45.171 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/main.bundle.js.map  
2018-06-04 08:34:45.172 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.172 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.172 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.172 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.172 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/vendor.bundle.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\vendor.bundle.js.map"'
2018-06-04 08:34:45.172 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/main.bundle.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\main.bundle.js.map"'
2018-06-04 08:34:45.173 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 2.055ms 200 text/plain
2018-06-04 08:34:45.308 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:45.309 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.310 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.310 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:45.311 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:45.312 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:45.315 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:45.316 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:45.317 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:45.319 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:45.319 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:45.320 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:45.320 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:45.320 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:45.321 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 12.9128ms 200 application/json; charset=UTF-8
2018-06-04 08:34:45.334 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 POST http://localhost:5000/api/Permissions application/json 83
2018-06-04 08:34:45.335 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:45.336 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.336 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.337 -03:00 [INFO] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler Successfully validated the token.
2018-06-04 08:34:45.337 -03:00 [INFO] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was successfully authenticated.
2018-06-04 08:34:45.337 -03:00 [INFO] IdentityServer4.AccessTokenValidation.IdentityServerAuthenticationHandler AuthenticationScheme: "Bearer" was successfully authenticated.
2018-06-04 08:34:45.337 -03:00 [INFO] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService Authorization was successful for user: "1".
2018-06-04 08:34:45.338 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executing action method "Tnf.Rac.Host.Controllers.PermissionsController.GetGrantedByPermissions (Tnf.Rac.Host)" with arguments (["System.Collections.Generic.List`1[System.String]"]) - ModelState is Valid
2018-06-04 08:34:45.343 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/assets/images/totvs-avatar-default.svg  
2018-06-04 08:34:45.344 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.344 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.344 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/assets/images/totvs-avatar-default.svg"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\assets\images\totvs-avatar-default.svg"'
2018-06-04 08:34:45.345 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 1.3191ms 200 image/svg+xml
2018-06-04 08:34:45.363 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ObjectResultExecutor Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-06-04 08:34:45.363 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executed action "Tnf.Rac.Host.Controllers.PermissionsController.GetGrantedByPermissions (Tnf.Rac.Host)" in 26.8736ms
2018-06-04 08:34:45.363 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 28.7714ms 200 application/json; charset=utf-8
2018-06-04 08:34:45.426 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/NunitoSans-Bold.51066f4d1d33630cd761.ttf  
2018-06-04 08:34:45.426 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:45.427 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.427 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.429 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/NunitoSans-Bold.51066f4d1d33630cd761.ttf"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\NunitoSans-Bold.51066f4d1d33630cd761.ttf"'
2018-06-04 08:34:45.447 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 21.7413ms 200 application/x-font-ttf
2018-06-04 08:34:45.478 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 307.3156ms 200 text/plain
2018-06-04 08:34:45.524 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession  
2018-06-04 08:34:45.526 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.526 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:45.526 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2018-06-04 08:34:45.526 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 2.2027ms 200 text/html; charset=UTF-8
2018-06-04 08:34:47.051 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/common.chunk.js  
2018-06-04 08:34:47.052 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/tenant.module.chunk.js  
2018-06-04 08:34:47.052 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.052 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.052 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.052 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.052 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/common.chunk.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\common.chunk.js"'
2018-06-04 08:34:47.053 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/tenant.module.chunk.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\tenant.module.chunk.js"'
2018-06-04 08:34:47.086 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 34.7204ms 200 application/javascript
2018-06-04 08:34:47.102 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 51.2253ms 200 application/javascript
2018-06-04 08:34:47.111 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/tenant.module.chunk.js.map  
2018-06-04 08:34:47.114 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.117 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.119 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/tenant.module.chunk.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\tenant.module.chunk.js.map"'
2018-06-04 08:34:47.132 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 21.6126ms 200 text/plain
2018-06-04 08:34:47.205 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:47.206 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.207 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.207 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:47.208 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:47.208 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:47.210 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:47.210 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:47.211 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:47.213 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:47.213 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:47.213 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:47.213 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:47.214 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:47.214 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 8.9444ms 200 application/json; charset=UTF-8
2018-06-04 08:34:47.239 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/api/tenant?page=1&pageSize=20  
2018-06-04 08:34:47.240 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.240 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.246 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/TotvsIcon.683aa55aa3feb2d437b7.ttf  
2018-06-04 08:34:47.246 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:47.247 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.248 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.248 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/TotvsIcon.683aa55aa3feb2d437b7.ttf"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\TotvsIcon.683aa55aa3feb2d437b7.ttf"'
2018-06-04 08:34:47.248 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/NunitoSans-ExtraLight.bc36a8726e20804a94da.ttf  
2018-06-04 08:34:47.248 -03:00 [INFO] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Policy execution successful.
2018-06-04 08:34:47.249 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.249 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.249 -03:00 [INFO] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService Authorization was successful for user: "admin".
2018-06-04 08:34:47.251 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/NunitoSans-ExtraLight.bc36a8726e20804a94da.ttf"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\NunitoSans-ExtraLight.bc36a8726e20804a94da.ttf"'
2018-06-04 08:34:47.258 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executing action method "Tnf.Rac.Host.Controllers.TenantController.GetAllAsync (Tnf.Rac.Host)" with arguments (["Tnf.Rac.Dtos.TenantQueryDto"]) - ModelState is Valid
2018-06-04 08:34:47.266 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 19.609ms 200 application/x-font-ttf
2018-06-04 08:34:47.270 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 21.8375ms 200 application/x-font-ttf
2018-06-04 08:34:47.285 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/common.chunk.js.map  
2018-06-04 08:34:47.286 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.286 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.287 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/common.chunk.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\common.chunk.js.map"'
2018-06-04 08:34:47.325 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession  
2018-06-04 08:34:47.326 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.326 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:47.326 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2018-06-04 08:34:47.326 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 1.1453ms 200 text/html; charset=UTF-8
2018-06-04 08:34:47.331 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 46.1124ms 200 text/plain
2018-06-04 08:34:47.460 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ObjectResultExecutor Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-06-04 08:34:47.485 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executed action "Tnf.Rac.Host.Controllers.TenantController.GetAllAsync (Tnf.Rac.Host)" in 235.7942ms
2018-06-04 08:34:47.486 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 246.6422ms 200 application/json; charset=utf-8
2018-06-04 08:34:48.103 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/organizationUnit.module.chunk.js  
2018-06-04 08:34:48.103 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.103 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.104 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/organizationUnit.module.chunk.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\organizationUnit.module.chunk.js"'
2018-06-04 08:34:48.122 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 19.3375ms 200 application/javascript
2018-06-04 08:34:48.197 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:48.198 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.198 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.198 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:48.199 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:48.200 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:48.201 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:48.202 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:48.203 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:48.204 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:48.205 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:48.205 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:48.205 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:48.205 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:48.207 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 9.6673ms 200 application/json; charset=UTF-8
2018-06-04 08:34:48.221 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/api/organizationUnit?page=1&pageSize=20  
2018-06-04 08:34:48.222 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.222 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.231 -03:00 [INFO] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService Authorization was successful for user: "admin".
2018-06-04 08:34:48.233 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executing action method "Tnf.Rac.Host.Controllers.OrganizationUnitController.GetAllAsync (Tnf.Rac.Host)" with arguments (["Tnf.Rac.Dtos.OrganizationQueryDto"]) - ModelState is Valid
2018-06-04 08:34:48.246 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/organizationUnit.module.chunk.js.map  
2018-06-04 08:34:48.247 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.247 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.247 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/organizationUnit.module.chunk.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\organizationUnit.module.chunk.js.map"'
2018-06-04 08:34:48.268 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 21.8358ms 200 text/plain
2018-06-04 08:34:48.286 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession  
2018-06-04 08:34:48.287 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.287 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.287 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2018-06-04 08:34:48.288 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 2.6125ms 200 text/html; charset=UTF-8
2018-06-04 08:34:48.405 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ObjectResultExecutor Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-06-04 08:34:48.417 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executed action "Tnf.Rac.Host.Controllers.OrganizationUnitController.GetAllAsync (Tnf.Rac.Host)" in 185.7854ms
2018-06-04 08:34:48.417 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 195.7394ms 200 application/json; charset=utf-8
2018-06-04 08:34:48.780 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/api/tenant?page=1&pageSize=20  
2018-06-04 08:34:48.780 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.781 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:48.781 -03:00 [INFO] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService Authorization was successful for user: "admin".
2018-06-04 08:34:48.781 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executing action method "Tnf.Rac.Host.Controllers.TenantController.GetAllAsync (Tnf.Rac.Host)" with arguments (["Tnf.Rac.Dtos.TenantQueryDto"]) - ModelState is Valid
2018-06-04 08:34:48.786 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ObjectResultExecutor Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-06-04 08:34:48.786 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executed action "Tnf.Rac.Host.Controllers.TenantController.GetAllAsync (Tnf.Rac.Host)" in 5.4472ms
2018-06-04 08:34:48.786 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 6.6013ms 200 application/json; charset=utf-8
2018-06-04 08:34:49.588 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/api/organizationUnit?page=1&pageSize=20  
2018-06-04 08:34:49.589 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:49.589 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:49.589 -03:00 [INFO] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService Authorization was successful for user: "admin".
2018-06-04 08:34:49.591 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executing action method "Tnf.Rac.Host.Controllers.OrganizationUnitController.GetAllAsync (Tnf.Rac.Host)" with arguments (["Tnf.Rac.Dtos.OrganizationQueryDto"]) - ModelState is Valid
2018-06-04 08:34:49.596 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ObjectResultExecutor Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-06-04 08:34:49.596 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executed action "Tnf.Rac.Host.Controllers.OrganizationUnitController.GetAllAsync (Tnf.Rac.Host)" in 6.5664ms
2018-06-04 08:34:49.596 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 7.6362ms 200 application/json; charset=utf-8
2018-06-04 08:34:49.886 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/role.module.chunk.js  
2018-06-04 08:34:49.886 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:49.887 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:49.887 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/role.module.chunk.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\role.module.chunk.js"'
2018-06-04 08:34:49.938 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 52.2878ms 200 application/javascript
2018-06-04 08:34:50.074 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:50.075 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.075 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.076 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:50.076 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:50.077 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:50.078 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:50.078 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:50.079 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:50.081 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:50.081 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:50.081 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:50.081 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:50.081 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:50.082 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 8.6278ms 200 application/json; charset=UTF-8
2018-06-04 08:34:50.096 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/api/role?page=1&pageSize=20  
2018-06-04 08:34:50.097 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.097 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.106 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/role.module.chunk.js.map  
2018-06-04 08:34:50.107 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.107 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.108 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/role.module.chunk.js.map"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\role.module.chunk.js.map"'
2018-06-04 08:34:50.109 -03:00 [INFO] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService Authorization was successful for user: "admin".
2018-06-04 08:34:50.116 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executing action method "Tnf.Rac.Host.Controllers.RoleController.GetAll (Tnf.Rac.Host)" with arguments (["Tnf.Rac.Dtos.TnfRoleQueryDto"]) - ModelState is Valid
2018-06-04 08:34:50.171 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 64.3801ms 200 text/plain
2018-06-04 08:34:50.171 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession  
2018-06-04 08:34:50.174 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.174 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.174 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2018-06-04 08:34:50.175 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 4.2874ms 200 text/html; charset=UTF-8
2018-06-04 08:34:50.245 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ObjectResultExecutor Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext".
2018-06-04 08:34:50.271 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executed action "Tnf.Rac.Host.Controllers.RoleController.GetAll (Tnf.Rac.Host)" in 162.7267ms
2018-06-04 08:34:50.272 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 176.2619ms 200 application/json; charset=utf-8
2018-06-04 08:34:50.534 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/user.module.chunk.js  
2018-06-04 08:34:50.535 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.535 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.535 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '"/user.module.chunk.js"'. Physical path: '"D:\git\tnf-samples\Scenarios\Security\Rac\Rac\ClientApp\dist\user.module.chunk.js"'
2018-06-04 08:34:50.562 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 27.558ms 200 application/javascript
2018-06-04 08:34:50.678 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-06-04 08:34:50.679 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.679 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.679 -03:00 [INFO] IdentityServer4.Hosting.IdentityServerMiddleware Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2018-06-04 08:34:50.680 -03:00 [INFO] Microsoft.EntityFrameworkCore.Infrastructure Entity Framework Core "2.0.3-rtm-10026" initialized '"SqLiteConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "None"
2018-06-04 08:34:50.680 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:50.682 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Emphasize\", \"x\".\"Enabled\", \"x\".\"Name\", \"x\".\"Required\", \"x\".\"ShowInDiscoveryDocument\"
FROM \"IdentityResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:50.682 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"IdentityResourceId\", \"x.UserClaims\".\"Type\"
FROM \"IdentityClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"IdentityResources\" AS \"x0\"
) AS \"t\" ON \"x.UserClaims\".\"IdentityResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:50.683 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""PRAGMA foreign_keys=ON;"
2018-06-04 08:34:50.685 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x\".\"Id\", \"x\".\"Description\", \"x\".\"DisplayName\", \"x\".\"Enabled\", \"x\".\"Name\"
FROM \"ApiResources\" AS \"x\"
ORDER BY \"x\".\"Id\""
2018-06-04 08:34:50.685 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Secrets\".\"Id\", \"x.Secrets\".\"ApiResourceId\", \"x.Secrets\".\"Description\", \"x.Secrets\".\"Expiration\", \"x.Secrets\".\"Type\", \"x.Secrets\".\"Value\"
FROM \"ApiSecrets\" AS \"x.Secrets\"
INNER JOIN (
    SELECT \"x0\".\"Id\"
    FROM \"ApiResources\" AS \"x0\"
) AS \"t\" ON \"x.Secrets\".\"ApiResourceId\" = \"t\".\"Id\"
ORDER BY \"t\".\"Id\""
2018-06-04 08:34:50.685 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes\".\"Id\", \"x.Scopes\".\"ApiResourceId\", \"x.Scopes\".\"Description\", \"x.Scopes\".\"DisplayName\", \"x.Scopes\".\"Emphasize\", \"x.Scopes\".\"Name\", \"x.Scopes\".\"Required\", \"x.Scopes\".\"ShowInDiscoveryDocument\"
FROM \"ApiScopes\" AS \"x.Scopes\"
INNER JOIN (
    SELECT \"x1\".\"Id\"
    FROM \"ApiResources\" AS \"x1\"
) AS \"t0\" ON \"x.Scopes\".\"ApiResourceId\" = \"t0\".\"Id\"
ORDER BY \"t0\".\"Id\", \"x.Scopes\".\"Id\""
2018-06-04 08:34:50.686 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.Scopes.UserClaims\".\"Id\", \"x.Scopes.UserClaims\".\"ApiScopeId\", \"x.Scopes.UserClaims\".\"Type\"
FROM \"ApiScopeClaims\" AS \"x.Scopes.UserClaims\"
INNER JOIN (
    SELECT DISTINCT \"x.Scopes0\".\"Id\", \"t1\".\"Id\" AS \"Id0\"
    FROM \"ApiScopes\" AS \"x.Scopes0\"
    INNER JOIN (
        SELECT \"x2\".\"Id\"
        FROM \"ApiResources\" AS \"x2\"
    ) AS \"t1\" ON \"x.Scopes0\".\"ApiResourceId\" = \"t1\".\"Id\"
) AS \"t2\" ON \"x.Scopes.UserClaims\".\"ApiScopeId\" = \"t2\".\"Id\"
ORDER BY \"t2\".\"Id0\", \"t2\".\"Id\""
2018-06-04 08:34:50.686 -03:00 [INFO] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"x.UserClaims\".\"Id\", \"x.UserClaims\".\"ApiResourceId\", \"x.UserClaims\".\"Type\"
FROM \"ApiClaims\" AS \"x.UserClaims\"
INNER JOIN (
    SELECT \"x3\".\"Id\"
    FROM \"ApiResources\" AS \"x3\"
) AS \"t3\" ON \"x.UserClaims\".\"ApiResourceId\" = \"t3\".\"Id\"
ORDER BY \"t3\".\"Id\""
2018-06-04 08:34:50.687 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request finished in 8.7967ms 200 application/json; charset=UTF-8
2018-06-04 08:34:50.708 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/api/user?page=1&pageSize=20  
2018-06-04 08:34:50.709 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.709 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.717 -03:00 [INFO] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService Authorization was successful for user: "admin".
2018-06-04 08:34:50.719 -03:00 [INFO] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker Executing action method "Tnf.Rac.Host.Controllers.UserController.GetAll (Tnf.Rac.Host)" with arguments (["Tnf.Rac.Dtos.TnfUserQueryDto"]) - ModelState is Valid
2018-06-04 08:34:50.729 -03:00 [INFO] Microsoft.AspNetCore.Hosting.Internal.WebHost Request starting HTTP/1.1 GET http://localhost:5000/user.module.chunk.js.map  
2018-06-04 08:34:50.730 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.730 -03:00 [INFO] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler AuthenticationScheme: "Identity.Application" was successfully authenticated.
2018-06-04 08:34:50.730 -03:00 [INFO] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending